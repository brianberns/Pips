(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function le(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Hs(e){return e!=null&&typeof e.GetEnumerator=="function"}function js(e){return e!=null&&typeof e.CompareTo=="function"}function Ls(e){return e!=null&&typeof e.Equals=="function"}function lo(e){return e!=null&&typeof e.GetHashCode=="function"}function qs(e){return e!=null&&typeof e.Dispose=="function"}function O(e){qs(e)&&e.Dispose()}function W(){return null}function Lt(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}class zs{constructor(t){this.iter=t,this.current=W()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function F(e){return Hs(e)?e.GetEnumerator():new zs(e[Symbol.iterator]())}function Ct(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class co{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function M(e,t){return e.toString(10).padStart(t,"0")}function Zs(e,t,n){return e.toString(10).padStart(t,"0").padEnd(n,"0")}function hr(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function Ws(e,t){return e=e,e.toString(t)}function Xe(e,t){return e=e,e.toString(t)}class Se{static id(t){return Se.idMap.has(t)||Se.idMap.set(t,++Se.count),Se.idMap.get(t)}}Se.idMap=new WeakMap;Se.count=0;function rn(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function te(e){return e*2654435761|0}function ao(e){return rn(e.toString(32))}function _t(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const o=e[r];t=(t<<5)+t^o}return t}function Js(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return te(e);case"bigint":return ao(e);case"string":return rn(e);default:return te(Se.id(e))}}function Xs(e){return lo(e)?e.GetHashCode():Js(e)}function Ks(e){return e.getTime()}function Ys(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=Ce(e[r]);return _t(n)}function Ce(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return te(e);case"bigint":return ao(e);case"string":return rn(e);default:{if(lo(e))return e.GetHashCode();if(le(e))return Ys(e);if(e instanceof Date)return Ks(e);if(Object.getPrototypeOf(e)?.constructor===Object){const t=Object.values(e).map(n=>Ce(n));return _t(t)}else return te(Se.id(e))}}}function Qs(e){return Xs(e)}function An(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function fo(e,t){return An(e,t,de)}function ei(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!de(e[n[o]],t[r[o]]))return!1;return!0}function de(e,t){return e===t?!0:e==null?t==null:t==null?!1:Ls(e)?e.Equals(t):le(e)?le(t)&&fo(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&zn(e,t)===0:Object.getPrototypeOf(e)?.constructor===Object&&ei(e,t)}function zn(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+hr(e),r=t.getTime()+hr(t)),n===r?0:n<r?-1:1}function Fe(e,t){return e===t?0:e<t?-1:1}function ti(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,o=0;r<e.length;r++)if(o=n(e[r],t[r]),o!==0)return o;return 0}function on(e,t){return ti(e,t,j)}function ni(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,s=0;o<n.length;o++){const i=n[o];if(i!==r[o])return i<r[o]?-1:1;if(s=j(e[i],t[i]),s!==0)return s}return 0}function j(e,t){return e===t?0:e==null?t==null?0:-1:t==null?1:js(e)?e.CompareTo(t):le(e)?le(t)?on(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?zn(e,t):-1:Object.getPrototypeOf(e)?.constructor===Object?ni(e,t):-1}function Zn(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}const ho=new WeakMap;function z(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return ho.set(t,e),t}function ri(e){if(e==null)return null;const t=(n,r,o)=>e(n)(r)(o);return ho.set(t,e),t}function oi(e){let t=0,n="[";for(const r of e){if(t===0)n+=ce(r);else if(t===100){n+="; ...";break}else n+="; "+ce(r);t++}return n+"]"}function ce(e,t=0){if(e!=null&&typeof e=="object"){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString();if(Symbol.iterator in e)return oi(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([r,o])=>r+" = "+ce(o,t+1)).join(`
  `)+" }":n?.name??""}}return String(e)}function si(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=ce(t[0]),r=n.indexOf(" ")>=0):n=t.map(o=>ce(o)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class we{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return si(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>Ce(n));return t.splice(0,0,te(this.tag)),_t(t)}Equals(t){return this===t?!0:Lt(this,t)&&this.tag===t.tag?fo(this.fields,t.fields):!1}CompareTo(t){return this===t?0:Lt(this,t)?this.tag===t.tag?on(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function ii(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function ui(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+ce(n)).join(`
  `)+" }"}function li(e){const t=Object.values(e).map(n=>Ce(n));return _t(t)}function ci(e,t){if(e===t)return!0;if(Lt(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!de(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function ai(e,t){if(e===t)return 0;if(Lt(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const o=j(e[n[r]],t[n[r]]);if(o!==0)return o}return 0}else return-1}class se{toJSON(){return ii(this)}toString(){return ui(this)}GetHashCode(){return li(this)}Equals(t){return ci(this,t)}CompareTo(t){return ai(this,t)}}class B{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}const rt=Symbol("numeric");function mo(e){return typeof e=="number"||typeof e=="bigint"||e?.[rt]}function bn(e){return typeof e=="number"&&Number.isInteger(e)||typeof e=="bigint"}function fi(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function Nt(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[rt]().multiply(t)}function qe(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e.toString():e[rt]().toFixed(t)}function qt(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e.toString():e[rt]().toPrecision(t)}function zt(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[rt]().toExponential(t)}function On(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[rt]().toHex()}class pe{constructor(t,n,r,o,s,i,u){this.fullname=t,this.generics=n,this.construct=r,this.parent=o,this.fields=s,this.cases=i,this.enumCases=u}toString(){return v(this)}GetHashCode(){return go(this)}Equals(t){return Pn(this,t)}}function ie(e){return e.generics!=null?e.generics:[]}function go(e){const t=rn(e.fullname),n=ie(e).map(go);return _t([t,...n])}function Pn(e,t){return e.fullname===""?t.fullname===""&&An(mt(e),mt(t),([n,r],[o,s])=>n===o&&Pn(r,s)):e.fullname===t.fullname&&An(ie(e),ie(t),Pn)}function Wn(e,t,n,r){return new pe(e,t,n,void 0,r)}function hi(e){return new pe("Microsoft.FSharp.Core.FSharpOption`1",[e])}function Me(e){return new pe("[]",[e])}const wo=new pe("System.Object"),po=new pe("System.String"),ft=new pe("System.Int32");function Ke(e){if(Array.isArray(e))return e[0];if(e instanceof pe){const t=bt(e);if(t!=null)return Ke(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function v(e){const t=bt(e);return t!=null?v(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>v(n)).join(",")+"]"}function yo(e){return bt(e)!=null}function bt(e){return e.fullname==="[]"&&e.generics?.length===1?e.generics[0]:void 0}function So(e){return e.generics!=null&&e.generics.length>0}function Jn(e){return e.enumCases!=null&&e.enumCases.length>0}function Co(e){return e.generics==null?e:new pe(e.fullname,e.generics.map(()=>wo))}function _o(e){return e.generics?.[0]}function Be(e){if(Jn(e)&&e.enumCases!=null)return e.enumCases.map(t=>t[1]);throw new Error(`${e.fullname} is not an enum type`)}function di(e,t){if(e.enumCases!=null)if(typeof t=="string"){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}else{for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}else throw new Error(`${e.fullname} is not an enum type`)}function Ue(e,t){const n=parseInt(t,10);return di(e,isNaN(n)?t:n)[1]}function bo(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function mt(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function Eo(e){if(Xn(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function Mo(e){return e instanceof pe?e.cases!=null:e instanceof we}function To(e){return e instanceof pe?e.fields!=null:e instanceof se}function Xn(e){return e.fullname.startsWith("System.Tuple")}function mi(e,t){const r=bo(t)[e.tag];if(r==null)throw new Error(`Cannot find case ${e.name} in union type`);return[r,e.fields]}function $o(e){return e.fields==null?[]:e.fields}function gi(e,t){return e[t[0]]}function dr(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function wi(e,t){const n=mt(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[o,s],i)=>(r[o]=t[i],r),{})}function pi(e,t){return e}class Re{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return Ce(this.value)}Equals(t){return t==null?!1:de(this.value,t instanceof Re?t.value:t)}CompareTo(t){return t==null?1:j(this.value,t instanceof Re?t.value:t)}}function m(e){if(e==null)throw new Error("Option has no value");return e instanceof Re?e.value:e}function vt(e){return e instanceof Re?e.value:e}function J(e){return e==null||e instanceof Re?new Re(e):e}function Ie(e,t){return e!=null?m(e):t}function yi(e,t){return e!=null?m(e):t()}function ot(e,t){return t!=null?J(e(m(t))):void 0}const Si=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Io=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ci=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ko=["January","February","March","April","May","June","July","August","September","October","November","December"];function X(e,t,n){let r=0,o=t;for(;o<e.length&&e[o]===n;)o++,r++;return r}function mr(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function _i(e,t){let n=t;const r=e[t];let o="",s=!1;for(;t<e.length;){t++;const i=e[t];if(i===r){s=!0;break}else if(i==="\\")if(t<e.length)t++,o+=e[t];else throw new Error("Invalid string format");else o+=i}if(!s)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[o,t-n+1]}function Kn(e,t,n){let r=0,o=0,s="";const i=n?Oe(e.getTime(),1):e;for(;r<t.length;){const u=t[r];switch(u){case"d":switch(o=X(t,r,"d"),r+=o,o){case 1:s+=Zt(i);break;case 2:s+=M(Zt(i),2);break;case 3:s+=Si[Rn(i)];break;case 4:default:s+=Io[Rn(i)];break}break;case"f":if(o=X(t,r,"f"),r+=o,o<=3){const p=10**(3-o);s+=M(Math.floor(Ft(i)/p),o)}else if(o<=7)s+=(""+Ft(i)).padEnd(o,"0");else throw"Input string was not in a correct format.";break;case"F":if(o=X(t,r,"F"),r+=o,o<=3){const p=10**(3-o),y=Math.floor(Ft(i)/p);y!=0&&(s+=M(y,o))}else if(o<=7){const p=Ft(i);p!=0&&(s+=M(p,3))}else throw"Input string was not in a correct format.";break;case"g":o=X(t,r,"g"),r+=o,s+="A.D.";break;case"h":switch(o=X(t,r,"h"),r+=o,o){case 1:const p=Ze(i)%12;s+=p||12;break;case 2:default:const y=Ze(i)%12;s+=M(y||12,2);break}break;case"H":switch(o=X(t,r,"H"),r+=o,o){case 1:s+=Ze(i);break;case 2:default:s+=M(Ze(i),2);break}break;case"K":switch(o=X(t,r,"K"),r+=o,o){case 1:switch(gr(i)){case 1:s+="Z";break;case 2:s+=Ye(i.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(o=X(t,r,"m"),r+=o,o){case 1:s+=Wt(i);break;case 2:default:s+=M(Wt(i),2);break}break;case"M":switch(o=X(t,r,"M"),r+=o,o){case 1:s+=We(i);break;case 2:s+=M(We(i),2);break;case 3:s+=Ci[We(i)-1];break;case 4:default:s+=ko[We(i)-1];break}break;case"s":switch(o=X(t,r,"s"),r+=o,o){case 1:s+=Fn(i);break;case 2:default:s+=M(Fn(i),2);break}break;case"t":switch(o=X(t,r,"t"),r+=o,o){case 1:s+=i.getHours()<12?"A":"P";break;case 2:default:s+=i.getHours()<12?"AM":"PM";break}break;case"y":switch(o=X(t,r,"y"),r+=o,o){case 1:s+=i.getFullYear()%100;break;case 2:s+=M(i.getFullYear()%100,2);break;default:s+=M(i.getFullYear(),o);break}break;case"z":o=X(t,r,"z"),r+=o;let c="";switch(gr(i)){case 1:c="+00:00";break;case 2:c=Ye(i.getTimezoneOffset()*-6e4);break;case 0:c=Ye(Ai(i).getTimezoneOffset()*-6e4);break}const l=c[0]==="-"?"-":"+",a=parseInt(c.substring(1,3),10),f=parseInt(c.substring(4,6),10);switch(o){case 1:s+=`${l}${a}`;break;case 2:s+=`${l}${M(a,2)}`;break;default:s+=`${l}${M(a,2)}:${M(f,2)}`;break}break;case":":s+=":",r++;break;case"/":s+="/",r++;break;case"'":case'"':const[d,w]=_i(t,r);s+=d,r+=w;break;case"%":const g=mr(t,r);if(g>=0&&g!==37)r+=2,s+=Kn(i,String.fromCharCode(g),n);else throw new Error("Invalid format string");break;case"\\":const S=mr(t,r);if(S>=0)r+=2,s+=String.fromCharCode(S);else throw new Error("Invalid format string");break;default:r++,s+=u;break}}return s}function gr(e){return e.kind||0}function Ye(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+M(n,2)+":"+M(r,2)}function bi(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return M(e.getFullYear(),4)+"-"+M(e.getMonth()+1,2)+"-"+M(e.getDate(),2)+"T"+M(e.getHours(),2)+":"+M(e.getMinutes(),2)+":"+M(e.getSeconds(),2)+"."+M(e.getMilliseconds(),3)+(n?Ye(e.getTimezoneOffset()*-6e4):"")}}function Ei(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+Ye(t)}function Mi(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Ye(e.offset??0);if(t.length===1)switch(t){case"D":return Ao(n);case"d":return Oo(n);case"T":return Po(vn(n));case"t":return vo(vn(n));case"O":case"o":return Ei(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return Kn(n,t,!0)}function Ao(e){return Io[Rn(e)]+", "+M(Zt(e),2)+" "+ko[We(e)-1]+" "+Ro(e)}function Oo(e){return M(We(e),2)+"/"+M(Zt(e),2)+"/"+Ro(e)}function Po(e){return M(Ze(e),2)+":"+M(Wt(e),2)+":"+M(Fn(e),2)}function vo(e){return M(Ze(e),2)+":"+M(Wt(e),2)}function Ti(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":return Ao(e);case"d":return Oo(e);case"T":return Po(e);case"t":return vo(e);case"O":case"o":return bi(e,n);default:throw new Error("Unrecognized Date print format")}else return Kn(e,t,n)}function xe(e,t,n){return e.offset!=null?Mi(e,t):Ti(e,t)}function Oe(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function $i(){return Oe(-621355968e5,1)}function Fo(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const o=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(o!=null){let s,i=0;if(o[2]!=null){const u=o[2].split(":"),c=parseInt(u[0],10);i=c*3600+parseInt(u[1]||"0",10)*60+parseFloat(u[2]||"0"),o[3]!=null&&o[3].toUpperCase()==="PM"&&c<12&&(i+=720)}if(o[4]!=null){if(o[1]!=null)s=new Date(o[1]+" UTC");else{const u=new Date;s=new Date(u.getUTCFullYear()+"/"+(u.getUTCMonth()+1)+"/"+u.getUTCDate())}if(o[4]==="Z")r="Z";else{let u=parseInt(o[5],10)*60+parseInt(o[6]||"0",10);o[4][0]==="-"&&(u*=-1),r=u,i-=u*60}}else if(o[1]!=null)s=new Date(o[1]);else{const u=new Date;s=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())}n=new Date(s.getTime()+i*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-s.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function sn(e,t=!1){const[n,r]=Fo(e),o=r!=null?t&&r==="Z"?1:2:0;return Oe(n.getTime(),o)}function Ii(e,t){try{return t.contents=sn(e),!0}catch{return!1}}function ki(){return Oe(Date.now(),2)}function vn(e){return e.kind===1?e:Oe(e.getTime(),1)}function Ai(e){return e.kind===2?e:Oe(e.getTime(),2)}function Zt(e){return e.kind===1?e.getUTCDate():e.getDate()}function Ze(e){return e.kind===1?e.getUTCHours():e.getHours()}function Ft(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function Wt(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function We(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function Fn(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function Ro(e){return e.kind===1?e.getUTCFullYear():e.getFullYear()}function Rn(e){return e.kind===1?e.getUTCDay():e.getDay()}function Oi(e,t){const n=Oe(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),o=n.getTimezoneOffset();return r!==o?Oe(n.getTime()+(o-r)*6e4,e.kind):n}else return n}function Pi(e,t){return Oi(e,t*864e5)}const vi=zn;function Fi(e,t=0){if((t&-284)!==0)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function Do(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function wr(e,t,n=0){if(t==null)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let o,s=-1;for(;(o=e.exec(t))!=null;)o.index===s?e.lastIndex++:(s=o.index,r.push(o));return r}function Ri(e,t,n,r,o=0){function s(){let i=arguments[0];if(r){r--;const u=[],c=arguments.length,l=typeof arguments[c-1]!="string";let a=l?c-3:c-2;for(let f=0;f<a;f++)u.push(arguments[f]);u.index=arguments[a++],u.input=arguments[a++],l&&(u.groups=arguments[a]),i=n(u)}return i}if(typeof e=="string"){const i=e;e=Fi(t,r??0),t=i,r=void 0}if(typeof n=="function")return r=r??-1,t.substring(0,o)+t.substring(o).replace(e,s);if(n=n.replace(/\$0/g,i=>"$&").replace(/\${([^}]+)}/g,"$<$1>"),r!=null){let i;const u=t.substring(o),c=wr(e,u),l=wr.length>r?(i=c[r-1],u.substring(0,i.index+i[0].length)):u;return t.substring(0,o)+l.replace(e,n)+t.substring(o+l.length)}else return t.replace(e,n)}const it=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,ut=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g,Di=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function Bt(e,t){return fi(e,t)<0}function Et(e){return{input:e,cont:xi(e)}}function Vi(e,t){let n=0,r=0,o="";ut.lastIndex=0;let s=ut.exec(e);for(;s;){const i=s.index+(s[1]||"").length;o+=e.substring(r,i).replace(/%%/g,"%");const[,,u,c,l,a]=s;r=ut.lastIndex,o+=Go(t[n++],u,c,l,a),ut.lastIndex=r-1,s=ut.exec(e)}return o+=e.substring(r).replace(/%%/g,"%"),o}function Vo(e,t){return typeof t=="string"?e(t):t.cont(e)}function un(e){return Vo(t=>t,e)}function xo(e){return Vo(t=>{throw new Error(t)},e)}function Go(e,t,n,r,o){let s="";if(t=t||"",o=o||"",mo(e))switch(o.toLowerCase()!=="x"&&(Bt(e,0)?(e=Nt(e,-1),s="-"):t.indexOf(" ")>=0?s=" ":t.indexOf("+")>=0&&(s="+")),r=r==null?null:parseInt(r,10),o){case"f":case"F":r=r??6,e=qe(e,r);break;case"g":case"G":e=r!=null?qt(e,r):qt(e);break;case"e":case"E":e=r!=null?zt(e,r):zt(e);break;case"x":e=On(e);break;case"X":e=On(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=xe(e):e=ce(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=s+e;else{const i=t.indexOf("0")>=0,u=t.indexOf("-")>=0,c=u||!i?" ":"0";c==="0"?(e=gt(e,n-s.length,c,u),e=s+e):e=gt(s+e,n,c,u)}return e}function No(e,t,n,r="",o=-1){return(...s)=>{let i=r;const u=t.slice(),c=n.slice();for(const l of s){const[,,a,f,d,w]=c[0];let g=f;if(o>=0)g=o,o=-1;else if(g==="*"){if(l<0)throw new Error("Non-negative number required");o=l;continue}i+=u[0],i+=Go(l,a,g,d,w),u.splice(0,1),c.splice(0,1)}return c.length===0?(i+=u[0],e(i)):No(e,u,c,i,o)}}function xi(e){return t=>{it.lastIndex=0;const n=[],r=[];let o=0,s=it.exec(e);for(;s;){const i=s.index+(s[1]||"").length;n.push(e.substring(o,i).replace(/%%/g,"%")),r.push(s),o=it.lastIndex,it.lastIndex-=1,s=it.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(o).replace(/%%/g,"%")),No(t,n,r))}}function Rt(e){let[t,n]=e.split(".");return n===void 0&&(n=""),{integral:t,decimal:n}}function En(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Gi(e,...t){let n;return n=e,n.replace(Di,(r,o,s,i,u,c)=>{if(o<0||o>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let l=t[o],a;if(mo(l))switch(u=u==""?null:parseInt(u,10),i){case"b":case"B":if(!bn(l))throw new Error("Format specifier was invalid.");l=(l>>>0).toString(2).replace(/^0+/,"").padStart(u||1,"0");break;case"c":case"C":const f=Bt(l,0);Bt(l,0)&&(l=Nt(l,-1)),u=u??2,l=qe(l,u),a=Rt(l),l="Â¤"+En(a.integral)+"."+lt(a.decimal,u,"0"),f&&(l="("+l+")");break;case"d":case"D":if(!bn(l))throw new Error("Format specifier was invalid.");l=String(l),u!=null&&(l.startsWith("-")?l="-"+Dt(l.substring(1),u,"0"):l=Dt(l,u,"0"));break;case"e":case"E":l=u!=null?zt(l,u):zt(l);break;case"f":case"F":u=u??2,l=qe(l,u),u>0&&(a=Rt(l),l=a.integral+"."+lt(a.decimal,u,"0"));break;case"g":case"G":l=u!=null?qt(l,u):qt(l),l=pr(pr(l,"0"),".");break;case"n":case"N":u=u??2,l=qe(l,u),a=Rt(l),l=En(a.integral)+"."+lt(a.decimal,u,"0");break;case"p":case"P":u=u??2,l=qe(Nt(l,100),u),a=Rt(l),l=En(a.integral)+"."+lt(a.decimal,u,"0")+" %";break;case"r":case"R":throw new Error("The round-trip format is not supported by Fable");case"x":case"X":if(!bn(l))throw new Error("Format specifier was invalid.");u=u??2,l=Dt(On(l),u,"0"),i==="X"&&(l=l.toUpperCase());break;default:if(i)throw new Error("Format specifier was invalid.");if(c){let d="";l=c.replace(/([0#,]+)(\.[0#]+)?/,(w,g,S)=>{Bt(l,0)&&(l=Nt(l,-1),d="-"),S=S==null?"":S.substring(1),l=qe(l,Math.max(S.length,0));let[p,y]=l.split(".");y||(y="");const P=g.replace(/,/g,"").replace(/^#+/,"").length;p=Dt(p,P,"0");const L=S.replace(/#+$/,"").length;if(L>y.length?y=lt(y,L,"0"):L<y.length&&(y=y.substring(0,L)+y.substring(L).replace(/0+$/,"")),g.indexOf(",")>0){const Cn=p.length%3,_n=Math.floor(p.length/3);let fr=Cn>0?p.substr(0,Cn)+(_n>0?",":""):"";for(let Pt=0;Pt<_n;Pt++)fr+=p.substr(Cn+Pt*3,3)+(Pt<_n-1?",":"");p=fr}return y.length>0?p+"."+y:p}),l=d+l}}else l instanceof Date?l=xe(l,c||i):l=ce(l);return s=parseInt((s||" ").substring(1),10),isNaN(s)||(l=gt(String(l),Math.abs(s)," ",s<0)),l})}function Bo(...e){return e.map(t=>String(t)).join("")}function ln(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function gt(e,t,n,r){n=n||" ",t=t-e.length;for(let o=0;o<t;o++)e=r?e+n:n+e;return e}function Dt(e,t,n){return gt(e,t,n)}function lt(e,t,n){return gt(e,t,n,!0)}function Ni(e,...t){if(t.length===0)return e.trim();const n="["+Do(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}function pr(e,...t){return t.length===0?e.trimEnd():e.replace(new RegExp("["+Do(t.join(""))+"]+$"),"")}function Mt(e){return e==null}function Bi(e,t){if(t==null)throw new Error(Bo("Value cannot be null. (Parameter '",e,..."')"));return t}function De(e,t){if(e==null)return new Array(t);{const n=e;return typeof n=="function"?new n(t):new Array(t)}}function Ui(e,t){return e>t?e:t}function Hi(e,t){return e<t?e:t}const Uo="Collection was empty.";function ji(){throw new Error("Arrays had different lengths")}function wt(e,t,n,r){const o=t|0;return e.fill(r,o,o+n)}function me(e,t,n){const r=t.length|0,o=De(n,r);for(let s=0;s<=r-1;s++)re(o,s,e(E(s,t)));return o}function yr(e,t){const n=Ui(0,e)|0;return t.slice(0,0+n)}function Li(e,t){const n=Array.isArray(e)?e:Array.from(e);switch(n.length|0){case 0:return De(t,0);case 1:return E(0,n);default:{let o=0,s=0;for(let u=0;u<=n.length-1;u++){const c=E(u,n);s=s+c.length|0}const i=De(t,s);for(let u=0;u<=n.length-1;u++){const c=E(u,n);for(let l=0;l<=c.length-1;l++)re(i,o,E(l,c)),o=o+1|0}return i}}}function qi(e,t,n){return Li(me(e,t,W()),n)}function zi(e,t){return t.filter(e)}function Zi(e,t){const n=De(t,1);return re(n,0,e),n}function Wi(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=De(n,e);for(let o=0;o<=e-1;o++)re(r,o,t(o));return r}function Ji(e){return e.slice()}function Xi(e){return e.slice().reverse()}function Ki(e,t,n){const r=t.length|0,o=De(n,r),s=De(n,r);let i=0,u=0;for(let c=0;c<=r-1;c++)e(E(c,t))?(re(o,i,E(c,t)),i=i+1|0):(re(s,u,E(c,t)),u=u+1|0);return[yr(i,o),yr(u,s)]}function Yi(e,t){return t.find(e)}function Yn(e,t,n){const r=e;return n.reduce(r,t)}function Qi(e,t){const n=e.slice();return n.sort((r,o)=>t.Compare(r,o)|0),n}function eu(e,t){if(t.length===0)return[[]];{const n=[];for(let r=0;r<=~~Math.ceil(t.length/e)-1;r++){let o;const s=r*e|0;o=t.slice(s,s+e),n.push(o)}return n}}function tu(e){if(e.length!==0)return J(E(0,e))}function E(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function re(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function nu(e,t,n){return t.reduceRight(((r,o)=>e(o,r)),n)}function ru(e,t,n,r){let o=r;t.length!==n.length&&ji();const s=t.length|0;for(let i=1;i<=s;i++)o=e(i-1,E(s-i,t),E(s-i,n),o);return o}function ou(e,t,n,r){return ru((o,s,i,u)=>e(s,i,u),t,n,r)}function ve(e,t){let n=t.GetZero();for(let r=0;r<=e.length-1;r++)n=t.Add(n,E(r,e));return n}class oe extends se{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+ln("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:t instanceof oe?((s,i)=>{e:for(;;){const u=s,c=i,l=u.tail,a=c.tail;if(l!=null)if(a!=null){const f=m(l),d=m(a);if(de(u.head,c.head)){s=f,i=d;continue e}else return!1}else return!1;else return a==null}})(n,t):!1}GetHashCode(){return((r,o,s)=>{e:for(;;){const i=r,u=o,c=s,l=c.tail;if(l!=null){const a=m(l);if(i>18)return u|0;r=i+1,o=(u<<1)+Ce(c.head)+631*i,s=a;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return t instanceof oe?((s,i)=>{e:for(;;){const u=s,c=i,l=u.tail,a=c.tail;if(l!=null)if(a!=null){const f=m(l),d=m(a),w=j(u.head,c.head)|0;if(w===0){s=f,i=d;continue e}else return w|0}else return 1;else return a!=null?-1:0}})(n,t)|0:1}GetEnumerator(){return iu(this)}[Symbol.iterator](){return Ct(F(this))}"System.Collections.IEnumerable.GetEnumerator"(){return F(this)}}class su{constructor(t){this.xs=t,this.it=this.xs,this.current=W()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=m(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=W()}Dispose(){}}function iu(e){return new su(e)}function et(){return new oe(W(),void 0)}function Tt(e,t){return new oe(e,t)}function cn(e){return e.tail==null}function Ho(e){return((n,r)=>{e:for(;;){const o=n,i=r.tail;if(i!=null){n=o+1,r=m(i);continue e}else return o|0}})(0,e)|0}function Qn(e){if(e.tail!=null)return e.head;throw new Error(Uo+"\\nParameter name: list")}function an(e){const t=e.tail;if(t!=null)return m(t);throw new Error(Uo+"\\nParameter name: list")}function Ee(){return et()}function ne(e,t){return Tt(e,t)}function pt(e){return Tt(e,et())}function A(e){return cn(e)}function uu(e){return Ho(e)|0}function _(e){return Qn(e)}function lu(e){if(!cn(e))return J(Qn(e))}function k(e){return an(e)}function fn(e){const t=Ho(e)|0,n=wt(new Array(t),0,t,null);return((o,s)=>{e:for(;;){const i=o,u=s;if(!cn(u)){re(n,i,Qn(u)),o=i+1,s=an(u);continue e}break}})(0,e),n}function hn(e,t,n){let r=t,o=n;for(;!cn(o);)r=e(r,_(o)),o=an(o);return r}function jo(e){return hn((t,n)=>Tt(n,t),et(),e)}function R(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=Tt(E(r,e),n);return n}function dn(e){return R(e,et())}function cu(e){if(le(e))return dn(e);if(e instanceof oe)return e;{const t=et();let n=t;const r=F(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){let i,u;const c=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=(i=n,u=new oe(c,void 0),i.tail=u,u)}}finally{O(r)}const o=n,s=et();return o.tail=s,an(t)}}function Lo(e,t){return hn((n,r)=>Tt(r,n),t,jo(e))}const au="Enumeration already finished.",fu="Enumeration has not started. Call MoveNext.",qo="The input sequence was empty.",hu="Reset is not supported on this enumerator.";function du(){throw new Error(hu)}function er(){throw new Error(fu)}function Dn(){throw new Error(au)}class mu{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const o=F(t);try{for(;n<4&&o["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+ce(o["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{O(o)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return Ct(F(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function gu(e){return new mu(e)}class wu{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){du()}Dispose(){this.dispose()}}function tr(e,t,n){return new wu(e,t,n)}function pu(e){let t,n,r=!1,o=!1,s;const i=()=>{if(o=!0,n!=null){const u=m(n);try{O(u)}finally{n=void 0}}if(t!=null){const u=m(t);try{O(u)}finally{t=void 0}}};return tr(()=>(r?o&&Dn():er(),s!=null?m(s):Dn()),()=>{if(r||(r=!0),o)return!1;{let u;for(;u==null;){let c;const l=t,a=n;if(l!=null)if(a!=null){const f=m(a);if(f["System.Collections.IEnumerator.MoveNext"]())s=J(f["System.Collections.Generic.IEnumerator`1.get_Current"]()),u=!0;else try{O(f)}finally{n=void 0}}else{const f=m(l);f["System.Collections.IEnumerator.MoveNext"]()?n=(c=f["System.Collections.Generic.IEnumerator`1.get_Current"](),F(c)):(i(),u=!1)}else t=F(e)}return m(u)}},()=>{o||i()})}function zo(e,t,n){let r=!1,o,s=J(e());const i=()=>{if(s!=null){const c=m(s);try{n(c)}finally{s=void 0}}},u=()=>{try{i()}finally{o=void 0}};return tr(()=>(r||er(),o!=null?m(o):Dn()),()=>{if(r||(r=!0),s!=null){const c=m(s);let l;try{l=t(c)}catch(a){throw u(),a}return l!=null?(o=l,!0):(u(),!1)}else return!1},i)}function yu(e,t){let n,r=t;return tr(()=>{if(n!=null){const o=m(n)[0];return m(n)[1],o}else return er()},()=>(n=e(r),n!=null?(m(n)[0],r=m(n)[1],!0):!1),()=>{})}function $t(e){return gu(e)}function ae(e){return F(Bi("source",e))}function G(e){return $t(()=>F(e()))}function nr(e){return $t(()=>pu(e))}function Su(e,t){return $t(()=>yu(e,t))}function Jt(){return G(()=>new Array(0))}function _e(e){return G(()=>Zi(e))}function be(e){return e instanceof oe?fn(e):Array.from(e)}function Zo(e){return le(e)?dn(e):e instanceof oe?e:cu(e)}function Wo(e,t,n){return $t(()=>zo(e,t,n))}function Jo(e,t,n){return $t(()=>{let r=-1;return zo(e,o=>(r=r+1|0,t(r,o)),n)})}function mn(e,t){return nr([e,t])}function Xo(e,t){return Wo(()=>ae(t),n=>{let r;for(;r==null&&n["System.Collections.IEnumerator.MoveNext"]();)r=e(n["System.Collections.Generic.IEnumerator`1.get_Current"]());return r},n=>{O(n)})}function Cu(e,t,n){const r=ae(t);try{const o=ae(n);try{let s=0,i=r["System.Collections.IEnumerator.MoveNext"](),u=o["System.Collections.IEnumerator.MoveNext"]();for(;s===0&&i&&u;)s=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),o["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,s===0&&(i=r["System.Collections.IEnumerator.MoveNext"](),u=o["System.Collections.IEnumerator.MoveNext"]());return(s!==0?s:i?1:u?-1:0)|0}finally{O(o)}}finally{O(r)}}function He(e,t,n){const r=ae(t);try{let o=!1;for(;!o&&r["System.Collections.IEnumerator.MoveNext"]();)o=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return o}finally{O(r)}}function Ko(e,t){return Xo(n=>{if(e(n))return J(n)},t)}function It(e,t,n){const r=ae(n);try{let o=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)o=e(o,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return o}finally{O(r)}}function _u(e){if(le(e))return tu(e);if(e instanceof oe)return lu(e);{const t=ae(e);try{return t["System.Collections.IEnumerator.MoveNext"]()?J(t["System.Collections.Generic.IEnumerator`1.get_Current"]()):void 0}finally{O(t)}}}function Yo(e){const t=_u(e);if(t==null)throw new Error(qo+"\\nParameter name: source");return m(t)}function rr(e,t){It((n,r)=>{e(r)},void 0,t)}function bu(e,t){It((n,r)=>(e(n,r),n+1|0),0,t)}function Eu(e){if(le(e))return e.length|0;if(e instanceof oe)return uu(e)|0;{const t=ae(e);try{let n=0;for(;t["System.Collections.IEnumerator.MoveNext"]();)n=n+1|0;return n|0}finally{O(t)}}}function N(e,t){return Wo(()=>ae(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?J(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{O(n)})}function Mu(e,t){return Jo(()=>ae(t),(n,r)=>r["System.Collections.IEnumerator.MoveNext"]()?J(e(n,r["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{O(n)})}function Tu(e,t){const n=ae(t);try{const r=o=>{e:for(;;){const s=o;if(n["System.Collections.IEnumerator.MoveNext"]()){o=e(s,n["System.Collections.Generic.IEnumerator`1.get_Current"]());continue e}else return s;break}};if(n["System.Collections.IEnumerator.MoveNext"]())return r(n["System.Collections.Generic.IEnumerator`1.get_Current"]());throw new Error(qo)}finally{O(n)}}function Qo(e,t){return Jo(()=>ae(t),(n,r)=>n<e&&r["System.Collections.IEnumerator.MoveNext"]()?J(r["System.Collections.Generic.IEnumerator`1.get_Current"]()):void 0,n=>{O(n)})}function ge(e,t){return G(()=>nr(N(e,t)))}function or(e,t){return Ko(e,t)}function Vn(e,t){return Tu((n,r)=>t.Compare(r,n)>0?r:n,e)}function $u(e,t){return G(()=>eu(e,be(t)))}class Iu extends se{constructor(t,n){super(),this.Left=t|0,this.Right=n|0}toString(){const t=this;return`[${t.Left}-${t.Right}]`}}function sr(e,t){return new Iu(e,t)}function ku(e){return e.Left===e.Right}class Ve extends se{constructor(t,n){super(),this.Row=t|0,this.Column=n|0}toString(){const t=this;return`(${t.Row}, ${t.Column})`}}function Au(e,t){return new Ve(e,t)}function Ou(e,t){const n=[e,t];return[n[1],n[0]]}function es(e,t,n){return wt(new Array(e),0,e,wt(new Array(t),0,t,n))}function Pu(e){return Wi(e.length,t=>Ji(E(t,e)))}function xn(e,t,n){return E(t,E(e,n))}function Xt(e,t,n,r){E(e,r)[t]=n}const Te={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4,LowerAll:5};function Mn(e,t){return e.replace(/[a-z]?[A-Z]/g,n=>n.length===1?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function vu(e,t){switch(t){case Te.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case Te.SnakeCase:return Mn(e,"_");case Te.SnakeCaseAllCaps:return Mn(e,"_").toUpperCase();case Te.KebabCase:return Mn(e,"-");case Te.LowerAll:return e.toLowerCase();case Te.None:default:return e}}function ts(e,t=Te.None){const n={},r=t;function o(i){throw new Error("Cannot infer key and value of "+String(i))}function s(i,u,c){i=vu(i,u),n[i]=c}for(let i of e){let u=Te.None;if(i==null&&o(i),i instanceof we){const c=i.cases()[i.tag];i=i.fields.length===0?c:[c].concat(i.fields),u=r}if(Array.isArray(i))switch(i.length){case 0:o(i);break;case 1:s(i[0],u,!0);break;case 2:const c=i[1];s(i[0],u,c);break;default:s(i[0],u,i.slice(1))}else typeof i=="string"?s(i,u,!0):o(i)}return n}function ns(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function Fu(e,t){return t.has(e)?!1:(t.add(e),!0)}function Ru(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}function rs(e,t){if(e.has(t))return e.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}class Du{constructor(t,n){const r=new B(W());this.comparer=n,r.contents=this,this.hashMap=new Map([]),this["init@9"]=1;const o=F(t);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const s=o["System.Collections.Generic.IEnumerator`1.get_Current"]();Tn(r.contents,s)}}finally{O(o)}}get[Symbol.toStringTag](){return"HashSet"}toJSON(){const t=this;return Array.from(t)}"System.Collections.IEnumerable.GetEnumerator"(){return F(this)}GetEnumerator(){return F(nr(this.hashMap.values()))}[Symbol.iterator](){return Ct(F(this))}"System.Collections.Generic.ICollection`1.Add2B595"(t){Tn(this,t)}"System.Collections.Generic.ICollection`1.Clear"(){Sr(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(t){return _r(this,t)}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){bu((o,s)=>{re(t,n+o,s)},this)}"System.Collections.Generic.ICollection`1.get_Count"(){return Cr(this)|0}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(t){return br(this,t)}get size(){return Cr(this)|0}add(t){const n=this;return Tn(n,t),n}clear(){Sr(this)}delete(t){return br(this,t)}has(t){return _r(this,t)}keys(){return N(n=>n,this)}values(){return N(n=>n,this)}entries(){return N(n=>[n,n],this)}forEach(t,n){const r=this;rr(o=>{t(o,o,r)},r)}}function ir(e,t){const n=e.comparer.GetHashCode(t)|0;let r,o=W();return r=[ns(e.hashMap,n,new B(()=>o,s=>{o=s})),o],r[0]?[!0,n,r[1].findIndex(s=>e.comparer.Equals(t,s))]:[!1,n,-1]}function Sr(e){e.hashMap.clear()}function Cr(e){let t=0,n=F(e.hashMap.values());try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=t+r.length|0}}finally{O(n)}return t|0}function Tn(e,t){const n=ir(e,t);return n[0]?n[2]>-1?!1:(rs(e.hashMap,n[1]).push(t),!0):(e.hashMap.set(n[1],[t]),!0)}function _r(e,t){const n=ir(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return!0;default:return!1}}function br(e,t){const n=ir(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return rs(e.hashMap,n[1]).splice(n[2],1),!0;default:return!1}}class os{constructor(t){this.k=t}}function Y(e){return new os(e)}function b(e){return e.k}class I extends os{constructor(t,n,r,o){super(t),this.left=n,this.right=r,this.h=o|0}}function Q(e,t,n,r){return new I(e,t,n,r)}function $(e){return e.left}function T(e){return e.right}function Je(e){return e.h|0}function ss(e,t){e:for(;;){const n=e,r=t;if(n!=null){const o=m(n);if(o instanceof I){const s=o;e=$(s),t=ss(T(s),r+1);continue e}else return r+1|0}else return r|0}}function Vu(e){return ss(e,0)|0}function K(e,t,n){let r,o,s;const i=e;if(i!=null){const a=m(i);s=a instanceof I?(r=a,Je(r)):1}else s=0;let u;const c=n;if(c!=null){const a=m(c);u=a instanceof I?(o=a,Je(o)):1}else u=0;const l=(s<u?u:s)|0;return l===0?Y(t):Q(t,e,n,l+1)}function Kt(e,t,n){let r,o,s,i,u,c,l,a,f;const d=e;if(d!=null){const S=m(d);f=S instanceof I?(r=S,Je(r)):1}else f=0;let w;const g=n;if(g!=null){const S=m(g);w=S instanceof I?(o=S,Je(o)):1}else w=0;if(w>f+2){const S=m(n);if(S instanceof I){const p=S;if(s=$(p),(s!=null?(i=m(s),i instanceof I?(u=i,Je(u)):1):0)>f+1){const y=m($(p));if(y instanceof I){const P=y;return K(K(e,t,$(P)),b(P),K(T(P),b(p),T(p)))}else throw new Error("internal error: Set.rebalance")}else return K(K(e,t,$(p)),b(p),T(p))}else throw new Error("internal error: Set.rebalance")}else if(f>w+2){const S=m(e);if(S instanceof I){const p=S;if(c=T(p),(c!=null?(l=m(c),l instanceof I?(a=l,Je(a)):1):0)>w+1){const y=m(T(p));if(y instanceof I){const P=y;return K(K($(p),b(p),$(P)),b(P),K(T(P),t,n))}else throw new Error("internal error: Set.rebalance")}else return K($(p),b(p),K(T(p),t,n))}else throw new Error("internal error: Set.rebalance")}else return K(e,t,n)}function tt(e,t,n){if(n!=null){const r=m(n),o=e.Compare(t,b(r))|0;if(r instanceof I){const s=r;return o<0?Kt(tt(e,t,$(s)),b(s),T(s)):o===0?n:Kt($(s),b(s),tt(e,t,T(s)))}else{const s=e.Compare(t,b(r))|0;return s<0?Q(t,void 0,n,2):s===0?n:Q(t,n,void 0,2)}}else return Y(t)}function is(e){if(e!=null){const t=m(e);if(t instanceof I){const n=t;if($(n)==null)return[b(n),T(n)];{const r=is($(n));return[r[0],K(r[1],b(n),T(n))]}}else return[b(t),void 0]}else throw new Error("internal error: Set.spliceOutSuccessor")}function Gn(e,t,n){if(n!=null){const r=m(n),o=e.Compare(t,b(r))|0;if(r instanceof I){const s=r;if(o<0)return Kt(Gn(e,t,$(s)),b(s),T(s));if(o===0){if($(s)==null)return T(s);if(T(s)==null)return $(s);{const i=is(T(s));return K($(s),i[0],i[1])}}else return Kt($(s),b(s),Gn(e,t,T(s)))}else return o===0?void 0:n}else return n}function us(e,t,n){e:for(;;){const r=e,o=t,s=n;if(s!=null){const i=m(s),u=r.Compare(o,b(i))|0;if(i instanceof I){const c=i;if(u<0){e=r,t=o,n=$(c);continue e}else{if(u===0)return!0;e=r,t=o,n=T(c);continue e}}else return u===0}else return!1}}function ls(e,t){e:for(;;){const n=e,r=t;if(r!=null){const o=m(r);if(o instanceof I){const s=o;ls(n,$(s)),n(b(s)),e=n,t=T(s);continue e}else n(b(o))}break}}class xu extends se{constructor(t,n){super(),this.stack=t,this.started=n}}function cs(e){e:for(;;){const t=e;if(A(t))return Ee();{const n=_(t),r=k(t);if(n!=null){const o=m(n);if(o instanceof I){const s=o;e=R([$(s),Y(b(s)),T(s)],r);continue e}else return t}else{e=r;continue e}}}}function Er(e){return new xu(cs(pt(e)),!1)}function Gu(){throw new Error("Enumeration not started")}function Nu(){throw new Error("Enumeration already started")}function Mr(e){if(e.started){const t=e.stack;if(A(t))return Nu();if(_(t)!=null){const n=m(_(t));return b(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return Gu()}function Bu(e){if(e.started){const t=e.stack;if(A(t))return!1;if(_(t)!=null){if(m(_(t))instanceof I)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=cs(k(t)),!A(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!A(e.stack)}function Tr(e){let t=Er(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return Mr(t)},"System.Collections.IEnumerator.get_Current"(){return Mr(t)},"System.Collections.IEnumerator.MoveNext"(){return Bu(t)},"System.Collections.IEnumerator.Reset"(){t=Er(e)},Dispose(){}}}function Uu(e,t,n){e:for(;;){const r=e,o=t,s=n;if(A(o))return A(s)?0:-1;if(A(s))return 1;if(_(s)!=null)if(_(o)!=null){const i=m(_(o)),u=m(_(s));if(i instanceof I){const c=i;if($(c)==null)if(u instanceof I){const l=u;if($(l)==null){const a=r.Compare(b(c),b(l))|0;if(a!==0)return a|0;e=r,t=ne(T(c),k(o)),n=ne(T(l),k(s));continue e}else{let a,f,d,w,g;switch(A(o)?A(s)?a=2:_(s)!=null?(a=1,w=k(s),g=m(_(s))):a=2:_(o)!=null?(a=0,f=k(o),d=m(_(o))):A(s)?a=2:_(s)!=null?(a=1,w=k(s),g=m(_(s))):a=2,a){case 0:if(d instanceof I){const S=d;e=r,t=R([$(S),Q(b(S),void 0,T(S),0)],f),n=s;continue e}else{e=r,t=R([void 0,Y(b(d))],f),n=s;continue e}case 1:if(g instanceof I){const S=g;e=r,t=o,n=R([$(S),Q(b(S),void 0,T(S),0)],w);continue e}else{e=r,t=o,n=R([void 0,Y(b(g))],w);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const l=r.Compare(b(c),b(u))|0;if(l!==0)return l|0;e=r,t=ne(T(c),k(o)),n=ne(void 0,k(s));continue e}else{let l,a,f,d,w;switch(A(o)?A(s)?l=2:_(s)!=null?(l=1,d=k(s),w=m(_(s))):l=2:_(o)!=null?(l=0,a=k(o),f=m(_(o))):A(s)?l=2:_(s)!=null?(l=1,d=k(s),w=m(_(s))):l=2,l){case 0:if(f instanceof I){const g=f;e=r,t=R([$(g),Q(b(g),void 0,T(g),0)],a),n=s;continue e}else{e=r,t=R([void 0,Y(b(f))],a),n=s;continue e}case 1:if(w instanceof I){const g=w;e=r,t=o,n=R([$(g),Q(b(g),void 0,T(g),0)],d);continue e}else{e=r,t=o,n=R([void 0,Y(b(w))],d);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(u instanceof I){const c=u;if($(c)==null){const l=r.Compare(b(i),b(c))|0;if(l!==0)return l|0;e=r,t=ne(void 0,k(o)),n=ne(T(c),k(s));continue e}else{let l,a,f,d,w;switch(A(o)?A(s)?l=2:_(s)!=null?(l=1,d=k(s),w=m(_(s))):l=2:_(o)!=null?(l=0,a=k(o),f=m(_(o))):A(s)?l=2:_(s)!=null?(l=1,d=k(s),w=m(_(s))):l=2,l){case 0:if(f instanceof I){const g=f;e=r,t=R([$(g),Q(b(g),void 0,T(g),0)],a),n=s;continue e}else{e=r,t=R([void 0,Y(b(f))],a),n=s;continue e}case 1:if(w instanceof I){const g=w;e=r,t=o,n=R([$(g),Q(b(g),void 0,T(g),0)],d);continue e}else{e=r,t=o,n=R([void 0,Y(b(w))],d);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const c=r.Compare(b(i),b(u))|0;if(c!==0)return c|0;e=r,t=k(o),n=k(s);continue e}}else{m(_(s));let i,u,c,l,a;switch(A(o)?A(s)?i=2:_(s)!=null?(i=1,l=k(s),a=m(_(s))):i=2:_(o)!=null?(i=0,u=k(o),c=m(_(o))):A(s)?i=2:_(s)!=null?(i=1,l=k(s),a=m(_(s))):i=2,i){case 0:if(c instanceof I){const f=c;e=r,t=R([$(f),Q(b(f),void 0,T(f),0)],u),n=s;continue e}else{e=r,t=R([void 0,Y(b(c))],u),n=s;continue e}case 1:if(a instanceof I){const f=a;e=r,t=o,n=R([$(f),Q(b(f),void 0,T(f),0)],l);continue e}else{e=r,t=o,n=R([void 0,Y(b(a))],l);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(_(o)!=null){m(_(o));let i,u,c,l,a;switch(A(o)?A(s)?i=2:_(s)!=null?(i=1,l=k(s),a=m(_(s))):i=2:_(o)!=null?(i=0,u=k(o),c=m(_(o))):A(s)?i=2:_(s)!=null?(i=1,l=k(s),a=m(_(s))):i=2,i){case 0:if(c instanceof I){const f=c;e=r,t=R([$(f),Q(b(f),void 0,T(f),0)],u),n=s;continue e}else{e=r,t=R([void 0,Y(b(c))],u),n=s;continue e}case 1:if(a instanceof I){const f=a;e=r,t=o,n=R([$(f),Q(b(f),void 0,T(f),0)],l);continue e}else{e=r,t=o,n=R([void 0,Y(b(a))],l);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=k(o),n=k(s);continue e}}}function $r(e,t,n){return t==null?n==null?0:-1:n==null?1:Uu(e,pt(t),pt(n))|0}function Hu(e,t,n){let r=n;ls(o=>{re(t,r,o),r=r+1|0},e)}function ju(e,t,n){e:for(;;){const r=e,o=t,s=n;if(s["System.Collections.IEnumerator.MoveNext"]()){e=r,t=tt(r,s["System.Collections.Generic.IEnumerator`1.get_Current"](),o),n=s;continue e}else return o}}function Lu(e,t){return Yn((n,r)=>tt(e,r,n),void 0,t)}function qu(e,t){return hn((n,r)=>tt(e,r,n),void 0,t)}function zu(e,t){if(le(t))return Lu(e,t);if(t instanceof oe)return qu(e,t);{const n=F(t);try{return ju(e,void 0,n)}finally{O(n)}}}class Yt{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return Ju(this)|0}Equals(t){let n;const r=this;return t instanceof Yt&&(n=t,$r(ke(r),ee(r),ee(n))===0)}toString(){return"set ["+ln("; ",this)+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){let n;const r=this;return(t instanceof Yt?(n=t,$r(ke(r),ee(r),ee(n))):1)|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return us(ke(n),t,ee(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){Hu(ee(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return $n(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return $n(this)|0}GetEnumerator(){return Tr(ee(this))}[Symbol.iterator](){return Ct(F(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Tr(ee(this))}get size(){return $n(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return wn(this,t)}keys(){return N(n=>n,this)}values(){return N(n=>n,this)}entries(){return N(n=>[n,n],this)}forEach(t,n){const r=this;rr(o=>{t(o,o,r)},r)}}function gn(e,t){return new Yt(e,t)}function ke(e){return e.comparer}function ee(e){return e.tree}function Zu(e){return gn(e,void 0)}function Wu(e,t){return gn(ke(e),tt(ke(e),t,ee(e)))}function Qt(e,t){return gn(ke(e),Gn(ke(e),t,ee(e)))}function $n(e){return Vu(ee(e))|0}function wn(e,t){return us(ke(e),t,ee(e))}function ur(e){return ee(e)==null}function Ju(e){let t=0;const n=F(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+Ce(r)+631|0}}finally{O(n)}return Math.abs(t)|0}function Xu(e){return Zu(e)}function kt(e,t){return gn(t,zu(t,e))}class as extends se{constructor(t,n){super(),this.DominoPlaces=t,this.Cells=n}Equals(t){return Ir(this,t)}GetHashCode(){return Qs(yt(this).Value)|0}"System.IEquatable`1.Equals2B595"(t){return Ir(this,t)}CompareTo(t){return kr(this,t)|0}"System.IComparable`1.CompareTo2B595"(t){return kr(this,t)|0}}function Ku(e){return e.Cells.length|0}function Yu(e){return E(0,e.Cells).length|0}function fs(e,t){return xn(t.Row,t.Column,e.Cells)|0}function yt(e){return new co(()=>kt(e.DominoPlaces,{Compare:(t,n)=>on(t,n)|0}))}function Ir(e,t){return yt(e).Value.Equals(yt(t).Value)}function kr(e,t){return j(yt(e).Value,yt(t).Value)|0}function Qu(e,t){return new as(Ee(),es(e,t,-1))}function el(e,t){return fs(t,e)===-1}function tl(e,t,n,r){const o=[t,n],s=o[1],i=o[0],u=Pu(r.Cells);return Xt(i.Row,i.Column,e.Left,u),Xt(s.Row,s.Column,e.Right,u),new as(ne([e,o],r.DominoPlaces),u)}function nl(e,t,n,r){const o=j(e,n)|0;if(o===0)throw new Error("The step of a range cannot be zero");const s=o>0;return i=>{const u=j(i,t)|0;return s&&u<=0||!s&&u>=0?[i,r(i,e)]:void 0}}function rl(e,t,n,r,o){const s=nl(t,n,r,o);return G(()=>Su(s,e))}function Nn(e,t,n){return rl(e,t,n,0,(r,o)=>r+o)}class hs{constructor(t,n){this.k=t,this.v=n}}function St(e,t){return new hs(e,t)}function x(e){return e.k}function Z(e){return e.v}class D extends hs{constructor(t,n,r,o,s){super(t,n),this.left=r,this.right=o,this.h=s|0}}function ht(e,t,n,r,o){return new D(e,t,n,r,o)}function U(e){return e.left}function H(e){return e.right}function $e(e){return e.h|0}function ds(e,t){e:for(;;){const n=e,r=t;if(r!=null){const o=m(r);if(o instanceof D){const s=o;e=ds(n+1,U(s)),t=H(s);continue e}else return n+1|0}else return n|0}}function ol(e){return ds(0,e)|0}function ue(e,t,n,r){let o,s,i;const u=e;if(u!=null){const f=m(u);i=f instanceof D?(o=f,$e(o)):1}else i=0;let c;const l=r;if(l!=null){const f=m(l);c=f instanceof D?(s=f,$e(s)):1}else c=0;const a=(i<c?c:i)|0;return a===0?St(t,n):ht(t,n,e,r,a+1)}function Ar(e,t,n,r){let o,s,i,u,c,l,a,f,d;const w=e;if(w!=null){const p=m(w);d=p instanceof D?(o=p,$e(o)):1}else d=0;let g;const S=r;if(S!=null){const p=m(S);g=p instanceof D?(s=p,$e(s)):1}else g=0;if(g>d+2){const p=m(r);if(p instanceof D){const y=p;if(i=U(y),(i!=null?(u=m(i),u instanceof D?(c=u,$e(c)):1):0)>d+1){const P=m(U(y));if(P instanceof D){const L=P;return ue(ue(e,t,n,U(L)),x(L),Z(L),ue(H(L),x(y),Z(y),H(y)))}else throw new Error("internal error: Map.rebalance")}else return ue(ue(e,t,n,U(y)),x(y),Z(y),H(y))}else throw new Error("internal error: Map.rebalance")}else if(d>g+2){const p=m(e);if(p instanceof D){const y=p;if(l=H(y),(l!=null?(a=m(l),a instanceof D?(f=a,$e(f)):1):0)>g+1){const P=m(H(y));if(P instanceof D){const L=P;return ue(ue(U(y),x(y),Z(y),U(L)),x(L),Z(L),ue(H(L),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return ue(U(y),x(y),Z(y),ue(H(y),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return ue(e,t,n,r)}function nt(e,t,n,r){if(r!=null){const o=m(r),s=e.Compare(t,x(o))|0;if(o instanceof D){const i=o;return s<0?Ar(nt(e,t,n,U(i)),x(i),Z(i),H(i)):s===0?ht(t,n,U(i),H(i),$e(i)):Ar(U(i),x(i),Z(i),nt(e,t,n,H(i)))}else return s<0?ht(t,n,void 0,r,2):s===0?St(t,n):ht(t,n,r,void 0,2)}else return St(t,n)}function ms(e,t,n){e:for(;;){const r=e,o=t,s=n;if(s!=null){const i=m(s),u=r.Compare(o,x(i))|0;if(u===0)return J(Z(i));if(i instanceof D){const c=i;e=r,t=o,n=u<0?U(c):H(c);continue e}else return}else return}}function sl(e,t,n){const r=ms(e,t,n);if(r==null)throw new Error;return m(r)}function il(e,t,n){e:for(;;){const r=e,o=t,s=n;if(s!=null){const i=m(s),u=r.Compare(o,x(i))|0;if(i instanceof D){const c=i;if(u<0){e=r,t=o,n=U(c);continue e}else{if(u===0)return!0;e=r,t=o,n=H(c);continue e}}else return u===0}else return!1}}function gs(e,t){e:for(;;){const n=e,r=t;if(r!=null){const o=m(r);if(o instanceof D){const s=o;gs(n,U(s)),n(x(s),Z(s)),e=n,t=H(s);continue e}else n(x(o),Z(o))}break}}function ul(e,t){gs(e,t)}function Bn(e,t){if(t!=null){const n=m(t);if(n instanceof D){const r=n,o=Bn(e,U(r)),s=e(x(r),Z(r)),i=Bn(e,H(r));return ht(x(r),s,o,i,$e(r))}else return St(x(n),e(x(n),Z(n)))}else return void 0}function ll(e,t){return Bn(e,t)}function cl(e,t,n){let r=n;ul((o,s)=>{re(t,r,[o,s]),r=r+1|0},e)}function al(e,t){return hn((n,r)=>nt(e,r[0],r[1],n),void 0,t)}function fl(e,t,n){e:for(;;){const r=e,o=t,s=n;if(s["System.Collections.IEnumerator.MoveNext"]()){const i=s["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=nt(r,i[0],i[1],o),n=s;continue e}else return o}}function hl(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const o=E(r,t);n=nt(e,o[0],o[1],n)}return n}function dl(e,t){if(le(t))return hl(e,t);if(t instanceof oe)return al(e,t);{const n=F(t);try{return fl(e,void 0,n)}finally{O(n)}}}class ml extends se{constructor(t,n){super(),this.stack=t,this.started=n}}function ws(e){e:for(;;){const t=e;if(A(t))return Ee();{const n=k(t),r=_(t);if(r!=null){const o=m(r);if(o instanceof D){const s=o;e=R([U(s),St(x(s),Z(s)),H(s)],n);continue e}else return t}else{e=n;continue e}}}}function Or(e){return new ml(ws(pt(e)),!1)}function gl(){throw new Error("enumeration not started")}function wl(){throw new Error("enumeration already finished")}function Pr(e){if(e.started){const t=e.stack;if(A(t))return wl();if(_(t)!=null){const n=m(_(t));if(n instanceof D)throw new Error("Please report error: Map iterator, unexpected stack for current");return[x(n),Z(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return gl()}function pl(e){if(e.started){const t=e.stack;if(A(t))return!1;if(_(t)!=null){if(m(_(t))instanceof D)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=ws(k(t)),!A(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!A(e.stack)}function vr(e){let t=Or(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return Pr(t)},"System.Collections.IEnumerator.get_Current"(){return Pr(t)},"System.Collections.IEnumerator.MoveNext"(){return pl(t)},"System.Collections.IEnumerator.Reset"(){t=Or(e)},Dispose(){}}}class en{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return bl(this)|0}Equals(t){const n=this;if(t instanceof en){const r=t,o=F(n);try{const s=F(r);try{const i=()=>{const u=o["System.Collections.IEnumerator.MoveNext"]();if(u===s["System.Collections.IEnumerator.MoveNext"]())if(u){const c=o["System.Collections.Generic.IEnumerator`1.get_Current"](),l=s["System.Collections.Generic.IEnumerator`1.get_Current"]();return de(c[0],l[0])&&de(c[1],l[1])?i():!1}else return!0;else return!1};return i()}finally{O(s)}}finally{O(o)}}else return!1}toString(){return"map ["+ln("; ",N(n=>Gi("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return vr(this.tree)}[Symbol.iterator](){return Ct(F(this))}"System.Collections.IEnumerable.GetEnumerator"(){return vr(this.tree)}CompareTo(t){let n;const r=this;return(t instanceof en?(n=t,Cu((o,s)=>{const i=r.comparer.Compare(o[0],s[0])|0;return(i!==0?i:j(o[1],s[1]))|0},r,n)):1)|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return Fr(n,t[0])&&de(tn(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){cl(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Ut(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Ut(this)|0}get size(){return Ut(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return N(n=>[n[0],n[1]],this)}get(t){return tn(this,t)}has(t){return Fr(this,t)}keys(){return N(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return N(n=>n[1],this)}forEach(t,n){const r=this;rr(o=>{t(o[1],o[0],r)},r)}}function pn(e,t){return new en(e,t)}function yl(e){return pn(e,void 0)}function Sl(e,t,n){return pn(e.comparer,nt(e.comparer,t,n,e.tree))}function tn(e,t){return sl(e.comparer,t,e.tree)}function Cl(e,t){return pn(e.comparer,ll(t,e.tree))}function Ut(e){return ol(e.tree)|0}function Fr(e,t){return il(e.comparer,t,e.tree)}function _l(e,t){return ms(e.comparer,t,e.tree)}function bl(e){const t=(o,s)=>(o<<1)+s+631|0;let n=0;const r=F(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const o=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,Ce(o[0]))|0,n=t(n,Ce(o[1]))|0}}finally{O(r)}return n|0}function ps(e,t,n){return Sl(n,e,t)}function nn(e,t){return _l(t,e)}function ys(e,t){return Cl(t,e)}function yn(e,t){return pn(t,dl(t,e))}function Ss(e){return yl(e)}function lr(e){e.save(),e.resetTransform(),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()}function Cs(e){return e.save(),{Dispose(){e.restore()}}}let Un=0;function cr(){window.cancelAnimationFrame(Un),Un=0}function El(e,t){cr();const n=1e3/e;let r=0;const o=i=>(u=>{const c=u-r;c>=n?(s(i+1),r=u-c%n,t(i)):s(i)}),s=i=>{Un=window.requestAnimationFrame(o(i))};s(0)}const Rr=6,Dr=be(G(()=>ge(e=>ge(t=>_e(sr(t,e-t)),Nn(0,1,Hi(e,Rr))),Nn(0,1,Rr*2)))),Vr=yn(Zo(G(()=>ge(e=>{const t=E(e,Dr);return mn(_e([t,e]),G(()=>_e([sr(t.Right,t.Left),e])))},Nn(0,1,Dr.length-1)))),{Compare:(e,t)=>j(e,t)|0});function Ml(e){return`hsl(${360*tn(Vr,e)/Ut(Vr)}, 100%, 80%)`}function Tl(e,t,n,r){e.beginPath(),e.arc(n,r,t,0,2*3.141592653589793),e.fillStyle="black",e.fill()}function xr(e,t,n,r,o){const s=t/12,i=t/4,u=(f,d)=>{Tl(e,s,f,d)},c=()=>{u(n,r)},l=()=>{u(n-i,r-i),u(n+i,r+i)},a=()=>{l(),u(n-i,r+i),u(n+i,r-i)};switch(o){case 0:break;case 1:{c();break}case 2:{l();break}case 3:{c(),l();break}case 4:{a();break}case 5:{c(),a();break}case 6:{a(),u(n,r-i),u(n,r+i);break}default:throw new Error("Unexpected")}}const V=35,Hn=[2,"black"],jn=[1,"gray"];function _s(e,t){e.beginPath(),e.roundRect(0,0,V*2,V,V/8),e.fillStyle=Ml(t),e.fill(),e.lineWidth=Hn[0],e.strokeStyle=Hn[1],e.stroke(),e.beginPath(),e.moveTo(V,0),e.lineTo(V,V),e.lineWidth=jn[0],e.strokeStyle=jn[1],e.stroke();const n=V*1.5,r=V*.5;xr(e,V,V*.5,r,t.Left),xr(e,V,n,r,t.Right)}const Ln=3/4;function $l(e,t,n,r){const o=Cs(e);try{e.translate(t,n),e.scale(Ln,Ln),_s(e,r)}finally{O(o)}}function Il(e,t,n,r){const o=[n,r],s=o[1],i=o[0];let u;const c=s.Row-i.Row|0,l=s.Column-i.Column|0;let a;switch(c){case-1:{l===0?a=3:a=4;break}case 0:{switch(l){case-1:{a=2;break}case 1:{a=0;break}default:a=4}break}case 1:{l===0?a=1:a=4;break}default:a=4}switch(a){case 0:{u=[0,0,0];break}case 1:{u=[0,1,1];break}case 2:{u=[1,1,2];break}case 3:{u=[1,0,3];break}default:throw new Error("Unexpected")}const f=Cs(e);try{e.translate((i.Column+u[1])*V,(i.Row+u[0])*V),e.rotate(u[2]*3.141592653589793/2),_s(e,t)}finally{O(f)}}function Sn(e,t,n){return de(nn(t,e),nn(n,e))}function kl(e,t){return!Sn(e,t,new Ve(t.Row,t.Column-1))}function Al(e,t){return!Sn(e,t,new Ve(t.Row,t.Column+1))}function Ol(e,t){return!Sn(e,t,new Ve(t.Row-1,t.Column))}function Pl(e,t){return!Sn(e,t,new Ve(t.Row+1,t.Column))}function vl(e){const t=e.Type;switch(t.tag){case 1:return"=";case 2:return"â ";case 3:return`<${t.fields[0]}`;case 4:return`>${t.fields[0]}`;case 5:return`${t.fields[0]}`;default:return""}}function Fl(e){let t;const n=e.Type;return t=n.tag===1?235:n.tag===2?220:n.tag===3?205:n.tag===4?190:n.tag===5?175:250,`rgb(${t}, ${t}, ${t})`}const he=V;function Vt(e,t,n,r,o,s,i,u){const c=(t.Column+r)*he,l=(t.Row+n)*he,a=(t.Column+s)*he,f=(t.Row+o)*he;e.beginPath(),e.moveTo(c,l),e.lineTo(a,f),e.lineWidth=i,e.strokeStyle=u,e.stroke()}function Rl(e,t){const n=Vn(t.Cells,{Compare:(i,u)=>j(i,u)|0}),r=(n.Column+.5)*he,o=(n.Row+.5)*he,s=15;e.fillStyle="black",e.font=`${s}px sans-serif`,e.textAlign="center",e.textBaseline="middle",e.fillText(vl(t),r,o)}const je=Hn,Gr=jn;function Dl(e,t,n,r){e.fillStyle=n,e.fillRect(r.Column*he,r.Row*he,he,he),kl(t,r)&&Vt(e,r,0,0,1,0,je[0],je[1]);const o=Al(t,r)?je:Gr;Vt(e,r,0,1,1,1,o[0],o[1]),Ol(t,r)&&Vt(e,r,0,0,0,1,je[0],je[1]);const s=Pl(t,r)?je:Gr;Vt(e,r,1,0,1,1,s[0],s[1])}function Vl(e,t,n){const r=n.Cells;for(let o=0;o<=r.length-1;o++){const s=E(o,r);Dl(e,t,Fl(n),s),Rl(e,n)}}function xl(e,t){const n=yn(Zo(G(()=>ge(o=>N(s=>[s,o],o.Cells),t.Regions))),{Compare:(o,s)=>j(o,s)|0}),r=t.Regions;for(let o=0;o<=r.length-1;o++)Vl(e,n,E(o,r))}function Gl(e,t,n){const r=be($u(t,n.UnplacedDominoes));for(let o=0;o<=r.length-1;o++){const s=E(o,r);for(let i=0;i<=s.length-1;i++){const u=E(i,s);$l(e,(i+(t-s.length)/2)*V*2,o*V*1.2,u)}}}function Nl(e,t){El(10,n=>{lr(e);const r=F(E(n%t.length,t).Board.DominoPlaces);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const o=r["System.Collections.Generic.IEnumerator`1.get_Current"](),s=o[1];Il(e,o[0],s[0],s[1])}}finally{O(r)}})}function Bl(e){return new h(0,[e])}function Ul(e){return new h(1,[e])}class h extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function Ge(e,t){return t.tag===0?Bl(e(t.fields[0])):Ul(t.fields[0])}class Hl{constructor(){}}function jl(){return new Hl}function Ll(e,t,n){return t.then((r=>(n(),r)),(r=>{throw n(),r}))}function Pe(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(o){if(de(r,W()))return Promise.reject(o);try{return Promise.resolve(r(o))}catch(s){return Promise.reject(s)}}},catch:n=>{try{return t().catch(n)}catch(r){try{return Promise.resolve(n(r))}catch(o){return Promise.reject(o)}}}}}function ze(e,t){return new Promise((n,r)=>{try{Promise.resolve(t).then(n,r)}catch(o){r(o)}})}function bs(e,t,n){return Ll(e,n(t),()=>{O(t)})}const q=jl();class ql extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Accept","Accept-Charset","Accept-Encoding","Accept-Language","Accept-Datetime","Authorization","Cache-Control","Connection","Cookie","Content-Length","Content-MD5","Content-Type","Date","Expect","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Origin","Pragma","Proxy-Authorization","Range","Referer","SOAPAction","TE","User-Agent","Upgrade","Via","Warning","X-Requested-With","DNT","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Proto","Front-End-Https","X-Http-Method-Override","X-ATT-DeviceId","X-Wap-Profile","Proxy-Connection","X-UIDH","X-Csrf-Token","Custom"]}}class In extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Method","Headers","Body","Mode","Credentials","Cache"]}}class xt extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PreparingRequestFailed","DecodingFailed","FetchFailed","NetworkError"]}}function zl(e,t){return fetch(e,ts(t,1))}function Zl(e,t){return e!=null?ne(new ql(11,["application/json"]),t):t}function Wl(e,t){return Ie(ot(n=>Lo(t,n),e),t)}function At(e){return e<0?Math.ceil(e):Math.floor(e)}function Nr(e=0,t=0,n=0,r=0,o=0){switch(arguments.length){case 1:return Jl(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],o=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+o}function Jl(e){return Number(BigInt(e)/10000n)}function Xl(e){return At(e/864e5)}function Kl(e){return At(e%864e5/36e5)}function Yl(e){return At(e%36e5/6e4)}function Ql(e){return At(e%6e4/1e3)}function ec(e){return At(e%1e3)}function tc(e,t="c",n){if(["c","g","G"].indexOf(t)===-1)throw new Error("Custom formats are not supported");const r=Math.abs(Xl(e)),o=Math.abs(Kl(e)),s=Math.abs(Yl(e)),i=Math.abs(Ql(e)),u=Math.abs(ec(e));return`${e<0?"-":""}${r===0&&(t==="c"||t==="g")?"":t==="c"?r+".":r+":"}${t==="g"?o:M(o,2)}:${M(s,2)}:${M(i,2)}${u===0&&(t==="c"||t==="g")?"":t==="g"?"."+M(u,3):"."+Zs(u,3,7)}`}function nc(e){const t=e.search("\\."),n=e.search("\\:");if(t===-1&&n===-1){const r=parseInt(e,0);if(isNaN(r))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return Nr(r,0,0,0,0)}if(n>0){const r=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(r!=null&&r[4]!=null&&r[5]!=null){let o=0,s=0,i=0;const u=r[1]!=null&&r[1]==="-"?-1:1,c=+r[4],l=+r[5];if(r[3]!=null&&(o=+r[3]),r[7]!=null&&(i=+r[7]),r[8]!=null)switch(r[8].length){case 1:s=+r[8]*100;break;case 2:s=+r[8]*10;break;case 3:s=+r[8];break;case 4:s=+r[8]/10;break;case 5:s=+r[8]/100;break;case 6:s=+r[8]/1e3;break;case 7:s=+r[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return u*Nr(o,c,l,i,s)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function rc(e,t){try{return t.contents=nc(e),!0}catch{return!1}}class C extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class Es extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class oc{constructor(){this.cache=new Map([])}}function Ms(){return new oc}function Ts(e,t,n){let r,o=W();if(r=[ns(e.cache,t,new B(()=>o,s=>{o=s})),o],r[0])return r[1];{const s=n();return Ru(e.cache,t,s),s}}const sc=Ms(),ic=Ms();function Br(e){return e.slice(void 0,1).toLowerCase()+e.slice(1,e.length)}function $s(e,t){switch(e.tag){case 2:return Ri(Br(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Br(t)}}function uc(e){return e}const Is=W();function Gt(e){return Array.from(e)}function lc(e){return xe(e,"O")}function cc(e){return tc(e)}function Ur(e){return String(e)}function Hr(e){return String(e)}function jr(e){return String(e)}function Lr(e){return String(e)}function ac(){return W()}function fc(e){return xe(e,"O")}function hc(e,t){return JSON.stringify(t,z(W()),J(e))}function dc(e){return t=>yi(ot(e,t),()=>Is)}function qr(e,t,n,r){let o;const s=new B(W()),i=ps(v(r),s,e);let u;if(To(r)){const c=me(l=>{const a=$s(t,Ke(l)),f=ye(i,t,n,l[1]);return d=>(w=>{const g=gi(d,l);return(!n||n&&!Mt(g))&&(w[a]=f(g)),w})},mt(r));u=(l=>It((a,f)=>f(l)(a),{},c))}else if(Mo(r))u=(c=>{const l=mi(c,r),a=l[0],f=l[1],d=f.length|0;if(d===0)return Ke(a);{const w=d|0,g=$o(a),S=wt(new Array(w+1),0,w+1,null);re(S,0,Ke(a));for(let p=1;p<=w;p++){const y=ye(i,t,n,E(p-1,g)[1]);re(S,p,y(E(p-1,f)))}return S}});else throw new Error((o=v(r),un(Et("Cannot generate auto encoder for %s. Please pass an extra encoder."))(o)));return s.contents=u,u}function ye(e,t,n,r){const o=v(r),s=nn(o,e);if(s==null)if(yo(r)){const i=ye(e,t,n,bt(r));return u=>Gt(N(i,u))}else if(Jn(r))switch(v(_o(r))){case"System.SByte":return Ur;case"System.Byte":return Hr;case"System.Int16":return jr;case"System.UInt16":return Lr;case"System.Int32":return u=>u;case"System.UInt32":return u=>u;default:{const u=v(r);return xo(Et(`Cannot generate auto encoder for %s.
Thoth.Json.Net only support the folluwing enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra encoder.
                    `))(u)}}else if(So(r))if(Xn(r)){const i=me(u=>ye(e,t,n,u),Eo(r));return u=>Gt(Mu((c,l)=>E(c,i)(l),u))}else{const i=v(Co(r));if(i==="Microsoft.FSharp.Core.FSharpOption`1[System.Object]"){const u=new co(()=>dc(ye(e,t,n,E(0,ie(r)))));return c=>Mt(c)?Is:u.Value(c)}else if(i==="Microsoft.FSharp.Collections.FSharpList`1[System.Object]"||i==="Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"){const u=ye(e,t,n,E(0,ie(r)));return c=>Gt(N(u,c))}else if(i==="Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"){const u=E(0,ie(r)),c=ye(e,t,n,E(1,ie(r)));if(v(u)==="System.String"||v(u)==="System.Guid")return l=>It((a,f)=>{const d=f;return a[d[0]]=c(d[1]),a},{},l);{let l;return l=ye(e,t,n,u),f=>Gt(N(d=>{const w=d;return[l(w[0]),c(w[1])]},f))}}else return qr(e,t,n,r)}else switch(o){case"System.Boolean":return i=>i;case"Microsoft.FSharp.Core.Unit":return ac;case"System.String":return i=>i;case"System.SByte":return Ur;case"System.Byte":return Hr;case"System.Int16":return jr;case"System.UInt16":return Lr;case"System.Int32":return i=>i;case"System.UInt32":return i=>i;case"System.Double":return i=>i;case"System.Single":return i=>i;case"System.DateTime":return fc;case"System.DateTimeOffset":return lc;case"System.TimeSpan":return cc;case"System.Guid":return uc;case"System.Object":return i=>i;default:return qr(e,t,n,r)}else{const i=s;return u=>i.contents(u)}}function mc(e){return e!=null?ys((t,n)=>new B(n[0]),e.Coders):Ss({Compare:(t,n)=>Fe(t,n)|0})}function gc(e,t,n,r){let o,s;const i=Ie(t,new Es(0,[])),u=Ie(r,!0);return Ts(sc,(o=(s=v(e),ce(i)+s),Ie(ot(c=>c.Hash,n),"")+o),()=>ye(mc(n),i,u,e))}const wc=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,zr=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,pc=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function yc(e){function t(r){return r.replace(zr,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(wc.test(n))return Ni(n,"{","}","(",")");if(zr.test(n))return t(n);if(pc.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function Sc(e,t){try{return t.contents=yc(e),!0}catch{return!1}}var qn;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(qn||(qn={}));function Cc(e,t){const[,n,r,o]=e;return{sign:n||"",prefix:r||"",digits:o,radix:t}}function Zr(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function _c(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function bc(e,t){if(t&qn.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function Ec(e,t,n){const o=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(o!=null){const[,,s,i]=o;if(n=n||bc(s,t),!_c(n).test(i))return Cc(o,n)}return null}function Mc(e,t,n,r,o){const s=Ec(e,t,o);if(s!=null){let i=Number.parseInt(s.sign+s.digits,s.radix);if(!Number.isNaN(i)){const[u,c]=Zr(!0,r);!n&&s.radix!==10&&i>=u&&i<=c&&(i=i<<32-r>>32-r);const[l,a]=Zr(n,r);if(i>=l&&i<=a)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}function st(e,t,n,r,o){try{return o.contents=Mc(e,t,n,r),!0}catch{return!1}}function ks(e,t){Tc(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function Tc(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function $c(){return ks(-621355968e5,0)}function Ic(e){const[t,n]=Fo(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return ks(t.getTime(),r)}function kc(e,t){try{return t.contents=Ic(e),!0}catch{return!1}}function ct(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?`
`:" ")+(JSON.stringify(t,null,4)+"")}catch{return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?`
`:" ")}}function Ac(e,t){const n=t.tag===2?ct(t.fields[0],t.fields[1],!0):t.tag===1?ct(t.fields[0],t.fields[1],!1)+`
Reason: `+t.fields[2]:t.tag===3?ct(t.fields[0],t.fields[1],!0):t.tag===4?ct(t.fields[0],t.fields[1],!0)+("\nNode `"+t.fields[2]+"` is unkown."):t.tag===5?"Expecting "+t.fields[0]+`.
`+(JSON.stringify(t.fields[1],null,4)+""):t.tag===7?`The following errors were found:

`+ln(`

`,t.fields[0]):t.tag===6?"The following `failure` occurred with the decoder: "+t.fields[0]:ct(t.fields[0],t.fields[1],!1);return t.tag===7?n:"Error at: `"+e+"`\n"+n}function As(e,t,n){const r=t(e,n);if(r.tag===1){const o=r.fields[0];return new h(1,[Ac(o[0],o[1])])}else return new h(0,[r.fields[0]])}function Oc(e,t){try{return As("$",e,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new h(1,["Given an invalid JSON: "+n.message]);throw n}}function Pc(e,t){return typeof t=="string"?new h(0,[t]):new h(1,[[e,new C(0,["a string",t])]])}function vc(e,t){if(typeof t=="string"){let n,r="00000000-0000-0000-0000-000000000000";return n=[Sc(t,new B(()=>r,o=>{r=o})),r],n[0]?new h(0,[n[1]]):new h(1,[[e,new C(0,["a guid",t])]])}else return new h(1,[[e,new C(0,["a guid",t])]])}function Fc(e,t){return Mt(t)?new h(0,[void 0]):new h(1,[[e,new C(0,["null",t])]])}const Wr=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?-128<=o&&o<=127?new h(0,[(o+128&255)-128]):new h(1,[[n,new C(1,["a sbyte",o,"Value was either too large or too small for a sbyte"])]]):new h(1,[[n,new C(1,["a sbyte",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[st(r,511,!1,8,new B(()=>s|0,i=>{s=i|0})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["a sbyte",r])]])}else return new h(1,[[n,new C(0,["a sbyte",r])]])}),Jr=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?0<=o&&o<=255?new h(0,[o&255]):new h(1,[[n,new C(1,["a byte",o,"Value was either too large or too small for a byte"])]]):new h(1,[[n,new C(1,["a byte",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[st(r,511,!0,8,new B(()=>s,i=>{s=i})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["a byte",r])]])}else return new h(1,[[n,new C(0,["a byte",r])]])}),Xr=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?-32768<=o&&o<=32767?new h(0,[(o+32768&65535)-32768]):new h(1,[[n,new C(1,["an int16",o,"Value was either too large or too small for an int16"])]]):new h(1,[[n,new C(1,["an int16",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[st(r,511,!1,16,new B(()=>s|0,i=>{s=i|0})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["an int16",r])]])}else return new h(1,[[n,new C(0,["an int16",r])]])}),Kr=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?0<=o&&o<=65535?new h(0,[o&65535]):new h(1,[[n,new C(1,["an uint16",o,"Value was either too large or too small for an uint16"])]]):new h(1,[[n,new C(1,["an uint16",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[st(r,511,!0,16,new B(()=>s,i=>{s=i})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["an uint16",r])]])}else return new h(1,[[n,new C(0,["an uint16",r])]])}),Yr=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?-2147483648<=o&&o<=2147483647?new h(0,[~~o]):new h(1,[[n,new C(1,["an int",o,"Value was either too large or too small for an int"])]]):new h(1,[[n,new C(1,["an int",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[st(r,511,!1,32,new B(()=>s|0,i=>{s=i|0})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["an int",r])]])}else return new h(1,[[n,new C(0,["an int",r])]])}),Qr=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?0<=o&&o<=4294967295?new h(0,[o>>>0]):new h(1,[[n,new C(1,["an uint32",o,"Value was either too large or too small for an uint32"])]]):new h(1,[[n,new C(1,["an uint32",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[st(r,511,!0,32,new B(()=>s,i=>{s=i})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["an uint32",r])]])}else return new h(1,[[n,new C(0,["an uint32",r])]])});function Rc(e,t){return typeof t=="boolean"?new h(0,[t]):new h(1,[[e,new C(0,["a boolean",t])]])}function Dc(e,t){return typeof t=="number"?new h(0,[t]):new h(1,[[e,new C(0,["a float",t])]])}function Vc(e,t){return typeof t=="number"?new h(0,[t]):new h(1,[[e,new C(0,["a float32",t])]])}function xc(e,t){if(typeof t=="string"){let n,r=$i();return n=[Ii(t,new B(()=>r,o=>{r=o})),r],n[0]?new h(0,[vn(n[1])]):new h(1,[[e,new C(0,["a datetime",t])]])}else return new h(1,[[e,new C(0,["a datetime",t])]])}function Gc(e,t){if(typeof t=="string"){let n,r=$c();return n=[kc(t,new B(()=>r,o=>{r=o})),r],n[0]?new h(0,[n[1]]):new h(1,[[e,new C(0,["a datetimeoffset",t])]])}else return new h(1,[[e,new C(0,["a datetime",t])]])}function Nc(e,t){if(typeof t=="string"){let n,r=0;return n=[rc(t,new B(()=>r,o=>{r=o})),r],n[0]?new h(0,[n[1]]):new h(1,[[e,new C(0,["a timespan",t])]])}else return new h(1,[[e,new C(0,["a timespan",t])]])}function eo(e,t,n,r){let o;const s=n+".["+Xe(e)+"]";if(Array.isArray(r)){const i=r;return e<i.length?t(s,E(e,i)):new h(1,[[s,new C(5,["a longer array. Need index `"+Xe(e)+"` but there are only `"+(o=i.length,Xe(o))+"` entries",r])]])}else return new h(1,[[s,new C(0,["an array",r])]])}function Bc(e,t,n){return Mt(n)?new h(0,[void 0]):Ge(J,e(t,n))}function to(e,t,n){if(Array.isArray(n)){let r=-1;return Ge(jo,Yn((o,s)=>{if(r=r+1|0,o.tag===0){const i=e(t+".["+Xe(r)+"]",s);return i.tag===0?new h(0,[ne(i.fields[0],o.fields[0])]):new h(1,[i.fields[0]])}else return o},new h(0,[Ee()]),n))}else return new h(1,[[t,new C(0,["a list",n])]])}function no(e,t,n){if(Array.isArray(n)){let r=-1;const o=n;return Yn((s,i)=>{if(r=r+1|0,s.tag===0){const u=s.fields[0],c=e(t+".["+Xe(r)+"]",i);return c.tag===0?(re(u,r,c.fields[0]),new h(0,[u])):new h(1,[c.fields[0]])}else return s},new h(0,[wt(new Array(o.length),0,o.length,null)]),o)}else return new h(1,[[t,new C(0,["an array",n])]])}function Uc(e,t,n){return((o,s)=>{e:for(;;){const i=o,u=s;if(A(i))return new h(1,[[t,new C(7,[u])]]);{const c=As(t,z(_(i)),n);if(c.tag===1){o=k(i),s=Lo(u,pt(c.fields[0]));continue e}else return new h(0,[c.fields[0]])}}})(e,Ee())}function Hc(e,t,n){return new h(0,[e])}function ro(e,t,n,r){const o=t(n,r);return o.tag===0?e(o.fields[0],n,r):new h(1,[o.fields[0]])}function jc(e,t,n,r){const o=t(n,r);return o.tag===1?new h(1,[o.fields[0]]):new h(0,[e(o.fields[0])])}function Lc(e,t){let n;const r=e;return n=(o=>(s=>eo(0,r,o,s))),o=>(s=>ro(ri(i=>{let u;const c=t;return u=(l=>(a=>eo(1,c,l,a))),l=>(a=>ro((f,d,w)=>Hc([i,f]),z(u),l,a))}),z(n),o,s))}function qc(e){return yn(e,{Compare:(t,n)=>j(t,n)|0})}function zc(e){return kt(e,{Compare:(t,n)=>j(t,n)|0})}function Zc(e,t,n){return n!==null&&Object.getPrototypeOf(n||!1)===Object.prototype?nu((r,o)=>{const s=r[0];return o.tag===0?Ge(i=>ne(i,o.fields[0]),r[1](t+"."+s)(n[s])):o},e,new h(0,[Ee()])):new h(1,[[t,new C(0,["an object",n])]])}function Wc(e,t,n,r){return r!==null&&Object.getPrototypeOf(r||!1)===Object.prototype?It((o,s)=>{if(o.tag===0){const i=e(n,s);if(i.tag===0){const u=t(n+"."+s,r[s]);return u.tag===0?new h(0,[ne([i.fields[0],u.fields[0]],o.fields[0])]):new h(1,[u.fields[0]])}else return new h(1,[i.fields[0]])}else return o},new h(0,[Ee()]),Object.keys(r)):new h(1,[[n,new C(0,["an object",r])]])}function Os(e,t,n,r){let o,s;return t.length!==r.length?new h(1,[[n,new C(6,[(o=t.length|0,s=r.length|0,un(Et("Expected %i %s but got %i"))(o)(e)(s))])]]):ou((i,u,c)=>c.tag===0?Ge(l=>ne(l,c.fields[0]),u(n)(i)):c,r,t,new h(0,[Ee()]))}function oo(e,t,n,r,o,s){const i=Yi(u=>Ke(u)===r,bo(n));if(i!=null){const u=i;return s.length===0?new h(0,[dr(u,[])]):Ge(c=>dr(u,fn(c)),Os("union fields",me(c=>fe(e,t,!1,c[1]),$o(u)),o,s))}else return new h(1,[[o,new C(6,["Cannot find case "+r+" in "+v(n)])]])}function so(e,t,n,r){let o;const s=new B(W()),i=ps(v(r),s,e);let u;if(To(r)){const c=me(l=>[$s(t,Ke(l)),fe(i,t,!1,l[1])],mt(r));u=(l=>(a=>Ge(f=>wi(r,fn(f)),Zc(c,l,a))))}else if(Mo(r))u=(c=>(l=>{if(typeof l=="string")return oo(i,t,r,l,c,[]);if(Array.isArray(l)){const a=l;return oo(i,t,r,E(0,a),c,a.slice(1,a.length))}else return new h(1,[[c,new C(0,["a string or array",l])]])}));else if(n)u=(c=>(l=>new h(1,[[c,new C(2,["an extra coder for "+v(r),l])]])));else throw new Error((o=v(r),un(Et("Cannot generate auto decoder for %s. Please pass an extra decoder."))(o)));return s.contents=u,u}function fe(e,t,n,r){let o,s,i;const u=v(r),c=nn(u,e);if(c==null)if(yo(r)){const l=fe(e,t,!1,bt(r));return a=>(f=>no(z(l),a,f))}else if(Jn(r))switch(v(_o(r))){case"System.SByte":return a=>(f=>{const d=r,w=a,g=f,S=Wr(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0]|0;return He(p,Be(d),{Equals:(y,P)=>y===P,GetHashCode:y=>te(y)|0})?new h(0,[Ue(d,p.toString())]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});case"System.Byte":return a=>(f=>{const d=r,w=a,g=f,S=Jr(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0];return He(p,Be(d),{Equals:(y,P)=>y===P,GetHashCode:y=>te(y)|0})?new h(0,[Ue(d,p.toString())]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});case"System.Int16":return a=>(f=>{const d=r,w=a,g=f,S=Xr(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0]|0;return He(p,Be(d),{Equals:(y,P)=>y===P,GetHashCode:y=>te(y)|0})?new h(0,[Ue(d,Ws(p))]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});case"System.UInt16":return a=>(f=>{const d=r,w=a,g=f,S=Kr(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0];return He(p,Be(d),{Equals:(y,P)=>y===P,GetHashCode:y=>te(y)|0})?new h(0,[Ue(d,p.toString())]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});case"System.Int32":return a=>(f=>{const d=r,w=a,g=f,S=Yr(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0]|0;return He(p,Be(d),{Equals:(y,P)=>y===P,GetHashCode:y=>te(y)|0})?new h(0,[Ue(d,Xe(p))]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});case"System.UInt32":return a=>(f=>{const d=r,w=a,g=f,S=Qr(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0];return He(p,Be(d),{Equals:(y,P)=>y===P,GetHashCode:y=>te(y)|0})?new h(0,[Ue(d,p.toString())]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});default:{const a=v(r),f=xo(Et(`Cannot generate auto decoder for %s.
Thoth.Json.Net only support the folluwing enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra decoder.
                    `))(a);return d=>f(d)}}else if(So(r))if(Xn(r)){const l=me(a=>fe(e,t,!1,a),Eo(r));return a=>(f=>Array.isArray(f)?Ge(d=>pi(fn(d)),Os("tuple elements",l,a,f)):new h(1,[[a,new C(0,["an array",f])]]))}else switch(v(Co(r))){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return o=fe(e,t,!0,E(0,ie(r))),a=>(f=>Bc(z(o),a,f));case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return s=fe(e,t,!1,E(0,ie(r))),a=>(f=>to(z(s),a,f));case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const a=fe(e,t,!1,E(0,ie(r))),f=fe(e,t,!1,E(1,ie(r)));let d;const w=dn([g=>(S=>Wc(z(a),z(f),g,S)),(i=Lc(z(a),z(f)),g=>(S=>to(z(i),g,S)))]);return d=(g=>(S=>Uc(w,g,S))),g=>(S=>jc(qc,z(d),g,S))}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const a=fe(e,t,!1,E(0,ie(r)));return f=>(d=>{const w=no(z(a),f,d);return w.tag===0?new h(0,[zc(w.fields[0])]):new h(1,[w.fields[0]])})}default:return so(e,t,n,r)}else switch(u){case"System.Boolean":return l=>(a=>Rc(l,a));case"Microsoft.FSharp.Core.Unit":return l=>(a=>Fc(l,a));case"System.String":return l=>(a=>Pc(l,a));case"System.SByte":return Wr;case"System.Byte":return Jr;case"System.Int16":return Xr;case"System.UInt16":return Kr;case"System.Int32":return Yr;case"System.UInt32":return Qr;case"System.Double":return l=>(a=>Dc(l,a));case"System.Single":return l=>(a=>Vc(l,a));case"System.DateTime":return l=>(a=>xc(l,a));case"System.DateTimeOffset":return l=>(a=>Gc(l,a));case"System.TimeSpan":return l=>(a=>Nc(l,a));case"System.Guid":return l=>(a=>vc(l,a));case"System.Object":return l=>(a=>new h(0,[a]));default:return so(e,t,n,r)}else{const l=c;return a=>(f=>l.contents(a)(f))}}function Jc(e){return e!=null?ys((t,n)=>new B(n[1]),e.Coders):Ss({Compare:(t,n)=>Fe(t,n)|0})}function Xc(e,t,n){let r,o;const s=Ie(t,new Es(0,[]));return Ts(ic,(r=(o=v(e),ce(s)+o),Ie(ot(i=>i.Hash,n),"")+r),()=>fe(Jc(n),s,!1,e))}function Ps(e,t){return G(()=>{const n=new Du([],t);return Ko(r=>Fu(r,n),e)})}function Kc(e,t){return be(Ps(e,t))}class Le extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Any","Equal","Unequal","SumLess","SumGreater","SumExact"]}}class Yc extends se{constructor(t,n){super(),this.Cells=t,this.Type=n}}class Qc extends se{constructor(t,n,r){super(),this.Unsorted=t,this.Ascending=n,this.Descending=r}}function ea(e){const t=Qi(e,{Compare:(n,r)=>Fe(n,r)|0});return new Qc(e,t,Xi(t))}function Ot(e,t){return zi(n=>n!==-1,me(n=>fs(e,n)|0,t.Cells,Int32Array))}function vs(e,t){return Eu(Qo(e,t))===e}function ta(e,t,n){const r=Ot(e,n);let o;if(r.length<2)o=!0;else{const s=E(0,r)|0;o=r.slice(1,r.length).every(i=>s===i)}if(o&&r.length>0){const s=E(0,r)|0;return vs(n.Cells.length-r.length,or(i=>s===i,t.Unsorted))}else return o}function na(e,t,n){const r=Ot(e,n),o=Kc(r,{Equals:(s,i)=>s===i,GetHashCode:s=>te(s)|0});if(o.length===r.length){const s=kt(o,{Compare:(i,u)=>Fe(i,u)|0});return vs(n.Cells.length-r.length,Ps(or(i=>!wn(s,i),t.Unsorted),{Equals:(i,u)=>i===u,GetHashCode:i=>te(i)|0}))}else return!1}function ra(e,t,n,r){const o=Ot(e,r),s=ve(o,{GetZero:()=>0,Add:(i,u)=>i+u|0})|0;if(s>n)return!1;{const i=r.Cells.length-o.length|0;return s+ve(t.Ascending.slice(0,i-1+1),{GetZero:()=>0,Add:(u,c)=>u+c|0})<n}}function oa(e,t,n,r){const o=Ot(e,r),s=ve(o,{GetZero:()=>0,Add:(u,c)=>u+c|0})|0,i=r.Cells.length-o.length|0;return s+ve(t.Descending.slice(0,i-1+1),{GetZero:()=>0,Add:(u,c)=>u+c|0})>n}function sa(e,t,n){const r=es(t+1,n+1,!1);Xt(0,0,!0,r);const o=F(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const s=o["System.Collections.Generic.IEnumerator`1.get_Current"]()|0;for(let i=t;i>=s;i--)for(let u=n;u>=1;u--)xn(i-s,u-1,r)&&Xt(i,u,!0,r)}}finally{O(o)}return xn(t,n,r)}function ia(e,t,n,r){const o=Ot(e,r),s=ve(o,{GetZero:()=>0,Add:(i,u)=>i+u|0})|0;if(s>n)return!1;{const i=r.Cells.length-o.length|0;return i===0?s===n:s+ve(t.Ascending.slice(0,i-1+1),{GetZero:()=>0,Add:(u,c)=>u+c|0})<=n&&s+ve(t.Descending.slice(0,i-1+1),{GetZero:()=>0,Add:(u,c)=>u+c|0})>=n?sa(t.Unsorted,n-s,i):!1}}function ua(e,t,n){const r=n.Type;switch(r.tag){case 1:return ta(e,t,n);case 2:return na(e,t,n);case 3:return ra(e,t,r.fields[0],n);case 4:return oa(e,t,r.fields[0],n);case 5:return ia(e,t,r.fields[0],n);default:return!0}}function la(e){return[new Ve(e.Row+1,e.Column),new Ve(e.Row,e.Column+1)]}function ca(e){const t=(n,r)=>be(G(()=>{if(ur(n))return _e(r);{const o=Yo(n),s=Qt(n,o);return ge(i=>wn(s,i)?t(Qt(s,i),Wu(r,[o,i])):Jt(),la(o))}}));return t(e,Xu({Compare:(n,r)=>on(n,r)|0}))}function aa(e,t,n){return e(n,t)}class Fs extends se{constructor(t,n,r){super(),this.UnplacedDominoes=t,this.Regions=n,this.Board=r}}function fa(e,t){const n=qi(s=>s.Cells,t),r=Vn(N(s=>s.Row|0,n),{Compare:(s,i)=>Fe(s,i)|0})|0,o=Vn(N(s=>s.Column|0,n),{Compare:(s,i)=>Fe(s,i)|0})|0;return new Fs(kt(e,{Compare:(s,i)=>j(s,i)|0}),t,Qu(r+1,o+1))}function ha(e){const t=ea(be(G(()=>ge(n=>mn(_e(n.Left),G(()=>_e(n.Right))),e.UnplacedDominoes))));return e.Regions.every(n=>ua(e.Board,t,n))}function da(e,t){return el(e,t.Board)}function ma(e){return ca(kt(or(t=>aa(da,e,t),ge(t=>t.Cells,e.Regions)),{Compare:(t,n)=>j(t,n)|0}))}function ga(e,t,n,r){const o=[t,n],s=new Fs(Qt(r.UnplacedDominoes,e),r.Regions,tl(e,o[0],o[1],r.Board));if(ha(s))return s}class wa extends se{constructor(t,n,r){super(),this.indices=t,this.type=n,this.target=r}}function pa(){return Wn("Pips.DailyRegion",[],wa,()=>[["indices",Me(Me(ft))],["type",po],["target",hi(ft)]])}function ya(e){let t,n,r;return new Yc(me(o=>Au(E(0,o),E(1,o)),e.indices),(t=e.type,n=e.target,r=[t,n],t==="empty"?n==null?new Le(0,[]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():t==="equals"?n==null?new Le(1,[]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():t==="greater"?n!=null?new Le(4,[n]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():t==="less"?n!=null?new Le(3,[n]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():t==="sum"?n!=null?new Le(5,[n]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():t==="unequal"?n==null?new Le(2,[]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():(()=>{throw new Error(`Unexpected region type: ${r}`)})()))}class Sa extends se{constructor(t,n,r,o,s){super(),this.id=t|0,this.constructors=n,this.dominoes=r,this.regions=o,this.solution=s}}function kn(){return Wn("Pips.DailyPuzzle",[],Sa,()=>[["id",ft],["constructors",po],["dominoes",Me(Me(ft))],["regions",Me(pa())],["solution",Me(Me(Me(ft)))]])}function Ca(e){if(!Mt(e.dominoes))return fa(me(t=>sr(E(0,t),E(1,t)),e.dominoes),me(ya,e.regions))}class _a extends se{constructor(t,n,r){super(),this.easy=t,this.medium=n,this.hard=r}}function ba(){return Wn("Pips.Daily",[],_a,()=>[["easy",kn()],["medium",kn()],["hard",kn()]])}function Ea(e){return yn(Xo(t=>ot(n=>[t[0],n],Ca(t[1])),[["easy",e.easy],["medium",e.medium],["hard",e.hard]]),{Compare:(t,n)=>Fe(t,n)|0})}class Ma extends we{constructor(t,n){super(),this.tag=0,this.fields=[t,n]}cases(){return["Node"]}}function Ta(e){const t=n=>{if(n.length===0)return new Array(0);{const r=Yo(E(0,n)),o=Ki(i=>wn(i,r),n),s=be(G(()=>ge(i=>{const u=Qt(i,r);return ur(u)?Jt():_e(u)},o[0])));return be(G(()=>mn(_e(new Ma(r,t(s))),G(()=>t(o[1])))))}};return t(e)}const $a=e=>Ta(ma(e));function Ia(e){const t=r=>(o=>G(()=>ur(o.UnplacedDominoes)?_e(o):ge(s=>{const i=s.fields[0],u=s.fields[1];return ge(c=>mn(n(u)(c)(i)(o),G(()=>ku(c)?Jt():n(u)(c)(Ou(i[0],i[1]))(o))),o.UnplacedDominoes)},r))),n=r=>(o=>(s=>(i=>{const u=ga(o,s[0],s[1],i);if(u==null)return Jt();{const c=u;return t(r)(c)}})));return t($a(e))(e)}function ka(e){switch(e.tag){case 1:return e.fields[0];case 2:return e.fields[0].statusText;case 3:return e.fields[0].message;default:return e.fields[0].message}}function Ne(e){return document.getElementById(e)}function io(){return window.performance.now()}function Rs(){return document.body.style.cursor="wait",{Dispose(){document.body.style.cursor="default"}}}const Aa="https://pips-dsa2dqawe8hrahf7.eastus-01.azurewebsites.net/api/daily",ar=Ne("puzzle-canvas"),Ae=Ne("puzzle-date"),Oa=Ne("previous-date-button"),Pa=Ne("next-date-button"),Ds=Ne("difficulty-select"),Qe=Ne("solve-button"),Vs=Ne("timer-span"),dt=ar.getContext("2d"),xs=10;function Gs(e,t){const n=Yu(t.Board)*V,r=(ar.width-n)/2;e.translate(r,xs)}const Ns=4;function va(e,t){const n=(Ns-(1-Ln))*(2*V),r=(ar.width-n)/2,o=(Ku(t.Board)+1)*V+xs;e.translate(r,o)}function Bs(e,t){e.resetTransform(),Gs(e,t),xl(e,t),e.resetTransform(),va(e,t),Gl(e,Ns,t)}function Fa(e,t,n){e.resetTransform(),Gs(e,t),Nl(e,n)}let at=Zn(!0),Ht=Zn(void 0),jt=Zn(void 0);function uo(e){ze(q,Pe(q,()=>bs(q,Rs(),t=>{let n,r,o,s;cr(),lr(dt),at(!0),jt(void 0),Qe.textContent="Show solution",Qe.disabled=!0,Vs.textContent="";const i=xe(sn(Ae.value),"yyyy-MM-dd");return(n=Bo(Aa,"?date=",...i),r=void 0,o=void 0,s=void 0,(()=>{let u;try{const c=Wl(void 0,(u=dn([new In(0,["GET"]),new In(1,[ts(Zl(r,Ee()),0)])]),Ie(ot(a=>ne(new In(2,[hc(0,gc(wo,vt(o),vt(s))(a))]),u),r),u)));return ze(q,Pe(q,()=>zl(n,c).then(a=>{let f,d;return f=a,d=Ie(void 0,Xc(ba(),vt(o),vt(s))),ze(q,Pe(q,()=>(f.ok?ze(q,Pe(q,()=>f.text().then(w=>{let g;return Promise.resolve((g=Oc(z(d),w),g.tag===1?new h(1,[new xt(1,[g.fields[0]])]):new h(0,[g.fields[0]])))}))):Promise.resolve(new h(1,[new xt(2,[f])]))).then(w=>Promise.resolve(w))))}))).then(void 0,(a=>new h(1,[new xt(3,[a])])))}catch(c){return ze(q,Pe(q,()=>Promise.resolve(new h(1,[new xt(0,[c])]))))}})()).then(u=>{if(u.tag===1)return window.alert(J(ka(u.fields[0]))),Promise.resolve();{const c=tn(Ea(u.fields[0]),Ds.value);return Bs(dt,c),Ht(c),Qe.disabled=!1,Promise.resolve()}})})))}const Ra=sn(Ae.min);function Us(e){let t;const n=Pi(sn(Ae.value),e);vi(n,Ra)>=0&&(Ae.value=xe(n,"yyyy-MM-dd"),t=new Event("change"),Ae.dispatchEvent(t))}function Da(e){Us(-1)}function Va(e){Us(1)}function xa(e){ze(q,Pe(q,()=>{let t,n,r;return cr(),lr(dt),(t=at(),n=Ht(),r=jt(),t&&n!=null&&r==null?bs(q,Rs(),o=>{const s=io(),i=be(Qo(100,Ia(m(Ht())))),u=io()-s,c=i.length>=100?"+":"",l=i.length===1?"":"s";return Vs.textContent=un(Vi("Found %P()%P() solution%P() in %0.1f%P() ms",[i.length,c,l,u])),jt(i),Promise.resolve()}):Promise.resolve()).then(()=>Pe(q,()=>{at(!at());const o=at(),s=Ht(),i=jt();let u,c,l,a;switch(o?s!=null?(u=0,c=s):u=2:s!=null&&i!=null?(u=1,l=s,a=i):u=2,u){case 0:return Bs(dt,c),Qe.textContent="Show solution",Promise.resolve();case 1:return Fa(dt,l,a),Qe.textContent="Show puzzle",Promise.resolve();default:return Promise.resolve()}}))}))}(function(){Oa.onclick=(t=>{Da()}),Pa.onclick=(t=>{Va()}),Ae.onchange=(t=>{uo()}),Ds.onchange=(t=>{uo()}),Qe.onclick=(t=>{xa()});const e=ki();Ae.value=xe(e,"yyyy-MM-dd"),(()=>{const t=new Event("change");return Ae.dispatchEvent(t)})()})();
