(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function le(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Ws(e){return e!=null&&typeof e.GetEnumerator=="function"}function Js(e){return e!=null&&typeof e.CompareTo=="function"}function Xs(e){return e!=null&&typeof e.Equals=="function"}function ao(e){return e!=null&&typeof e.GetHashCode=="function"}function Ks(e){return e!=null&&typeof e.Dispose=="function"}function A(e){Ks(e)&&e.Dispose()}function W(){return null}function zt(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}class Ys{constructor(t){this.iter=t,this.current=W()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function R(e){return Ws(e)?e.GetEnumerator():new Ys(e[Symbol.iterator]())}function Mt(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class fo{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function M(e,t){return e.toString(10).padStart(t,"0")}function Qs(e,t,n){return e.toString(10).padStart(t,"0").padEnd(n,"0")}function mr(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function ei(e,t){return e=e,e.toString(t)}function Ye(e,t){return e=e,e.toString(t)}class Se{static id(t){return Se.idMap.has(t)||Se.idMap.set(t,++Se.count),Se.idMap.get(t)}}Se.idMap=new WeakMap;Se.count=0;function sn(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function te(e){return e*2654435761|0}function ho(e){return sn(e.toString(32))}function Tt(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const o=e[r];t=(t<<5)+t^o}return t}function ti(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return te(e);case"bigint":return ho(e);case"string":return sn(e);default:return te(Se.id(e))}}function ni(e){return ao(e)?e.GetHashCode():ti(e)}function ri(e){return e.getTime()}function oi(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=Ce(e[r]);return Tt(n)}function Ce(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return te(e);case"bigint":return ho(e);case"string":return sn(e);default:{if(ao(e))return e.GetHashCode();if(le(e))return oi(e);if(e instanceof Date)return ri(e);if(Object.getPrototypeOf(e)?.constructor===Object){const t=Object.values(e).map(n=>Ce(n));return Tt(t)}else return te(Se.id(e))}}}function si(e){return ni(e)}function Fn(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function mo(e,t){return Fn(e,t,de)}function ii(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!de(e[n[o]],t[r[o]]))return!1;return!0}function de(e,t){return e===t?!0:e==null?t==null:t==null?!1:Xs(e)?e.Equals(t):le(e)?le(t)&&mo(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&Kn(e,t)===0:Object.getPrototypeOf(e)?.constructor===Object&&ii(e,t)}function Kn(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+mr(e),r=t.getTime()+mr(t)),n===r?0:n<r?-1:1}function Fe(e,t){return e===t?0:e<t?-1:1}function ui(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,o=0;r<e.length;r++)if(o=n(e[r],t[r]),o!==0)return o;return 0}function un(e,t){return ui(e,t,j)}function li(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,s=0;o<n.length;o++){const i=n[o];if(i!==r[o])return i<r[o]?-1:1;if(s=j(e[i],t[i]),s!==0)return s}return 0}function j(e,t){return e===t?0:e==null?t==null?0:-1:t==null?1:Js(e)?e.CompareTo(t):le(e)?le(t)?un(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?Kn(e,t):-1:Object.getPrototypeOf(e)?.constructor===Object?li(e,t):-1}function ln(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}const go=new WeakMap;function z(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return go.set(t,e),t}function ci(e){if(e==null)return null;const t=(n,r,o)=>e(n)(r)(o);return go.set(t,e),t}function ai(e){let t=0,n="[";for(const r of e){if(t===0)n+=ce(r);else if(t===100){n+="; ...";break}else n+="; "+ce(r);t++}return n+"]"}function ce(e,t=0){if(e!=null&&typeof e=="object"){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString();if(Symbol.iterator in e)return ai(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([r,o])=>r+" = "+ce(o,t+1)).join(`
  `)+" }":n?.name??""}}return String(e)}function fi(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=ce(t[0]),r=n.indexOf(" ")>=0):n=t.map(o=>ce(o)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class we{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return fi(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>Ce(n));return t.splice(0,0,te(this.tag)),Tt(t)}Equals(t){return this===t?!0:zt(this,t)&&this.tag===t.tag?mo(this.fields,t.fields):!1}CompareTo(t){return this===t?0:zt(this,t)?this.tag===t.tag?un(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function hi(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function di(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+ce(n)).join(`
  `)+" }"}function mi(e){const t=Object.values(e).map(n=>Ce(n));return Tt(t)}function gi(e,t){if(e===t)return!0;if(zt(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!de(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function wi(e,t){if(e===t)return 0;if(zt(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const o=j(e[n[r]],t[n[r]]);if(o!==0)return o}return 0}else return-1}class se{toJSON(){return hi(this)}toString(){return di(this)}GetHashCode(){return mi(this)}Equals(t){return gi(this,t)}CompareTo(t){return wi(this,t)}}class B{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}const st=Symbol("numeric");function wo(e){return typeof e=="number"||typeof e=="bigint"||e?.[st]}function In(e){return typeof e=="number"&&Number.isInteger(e)||typeof e=="bigint"}function pi(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function jt(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[st]().multiply(t)}function Ze(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e.toString():e[st]().toFixed(t)}function Zt(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e.toString():e[st]().toPrecision(t)}function Wt(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[st]().toExponential(t)}function Dn(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[st]().toHex()}class pe{constructor(t,n,r,o,s,i,u){this.fullname=t,this.generics=n,this.construct=r,this.parent=o,this.fields=s,this.cases=i,this.enumCases=u}toString(){return v(this)}GetHashCode(){return po(this)}Equals(t){return Vn(this,t)}}function ie(e){return e.generics!=null?e.generics:[]}function po(e){const t=sn(e.fullname),n=ie(e).map(po);return Tt([t,...n])}function Vn(e,t){return e.fullname===""?t.fullname===""&&Fn(yt(e),yt(t),([n,r],[o,s])=>n===o&&Vn(r,s)):e.fullname===t.fullname&&Fn(ie(e),ie(t),Vn)}function Yn(e,t,n,r){return new pe(e,t,n,void 0,r)}function yi(e){return new pe("Microsoft.FSharp.Core.FSharpOption`1",[e])}function Me(e){return new pe("[]",[e])}const yo=new pe("System.Object"),So=new pe("System.String"),dt=new pe("System.Int32");function Qe(e){if(Array.isArray(e))return e[0];if(e instanceof pe){const t=$t(e);if(t!=null)return Qe(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function v(e){const t=$t(e);return t!=null?v(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>v(n)).join(",")+"]"}function Co(e){return $t(e)!=null}function $t(e){return e.fullname==="[]"&&e.generics?.length===1?e.generics[0]:void 0}function _o(e){return e.generics!=null&&e.generics.length>0}function Qn(e){return e.enumCases!=null&&e.enumCases.length>0}function bo(e){return e.generics==null?e:new pe(e.fullname,e.generics.map(()=>yo))}function Eo(e){return e.generics?.[0]}function He(e){if(Qn(e)&&e.enumCases!=null)return e.enumCases.map(t=>t[1]);throw new Error(`${e.fullname} is not an enum type`)}function Si(e,t){if(e.enumCases!=null)if(typeof t=="string"){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}else{for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}else throw new Error(`${e.fullname} is not an enum type`)}function je(e,t){const n=parseInt(t,10);return Si(e,isNaN(n)?t:n)[1]}function Mo(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function yt(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function To(e){if(er(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function $o(e){return e instanceof pe?e.cases!=null:e instanceof we}function Io(e){return e instanceof pe?e.fields!=null:e instanceof se}function er(e){return e.fullname.startsWith("System.Tuple")}function Ci(e,t){const r=Mo(t)[e.tag];if(r==null)throw new Error(`Cannot find case ${e.name} in union type`);return[r,e.fields]}function ko(e){return e.fields==null?[]:e.fields}function _i(e,t){return e[t[0]]}function gr(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function bi(e,t){const n=yt(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[o,s],i)=>(r[o]=t[i],r),{})}function Ei(e,t){return e}class De{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return Ce(this.value)}Equals(t){return t==null?!1:de(this.value,t instanceof De?t.value:t)}CompareTo(t){return t==null?1:j(this.value,t instanceof De?t.value:t)}}function m(e){if(e==null)throw new Error("Option has no value");return e instanceof De?e.value:e}function Vt(e){return e instanceof De?e.value:e}function J(e){return e==null||e instanceof De?new De(e):e}function Ie(e,t){return e!=null?m(e):t}function Mi(e,t){return e!=null?m(e):t()}function it(e,t){return t!=null?J(e(m(t))):void 0}const Ti=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Po=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ao=["January","February","March","April","May","June","July","August","September","October","November","December"];function X(e,t,n){let r=0,o=t;for(;o<e.length&&e[o]===n;)o++,r++;return r}function wr(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function Ii(e,t){let n=t;const r=e[t];let o="",s=!1;for(;t<e.length;){t++;const i=e[t];if(i===r){s=!0;break}else if(i==="\\")if(t<e.length)t++,o+=e[t];else throw new Error("Invalid string format");else o+=i}if(!s)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[o,t-n+1]}function tr(e,t,n){let r=0,o=0,s="";const i=n?Pe(e.getTime(),1):e;for(;r<t.length;){const u=t[r];switch(u){case"d":switch(o=X(t,r,"d"),r+=o,o){case 1:s+=Jt(i);break;case 2:s+=M(Jt(i),2);break;case 3:s+=Ti[Nn(i)];break;case 4:default:s+=Po[Nn(i)];break}break;case"f":if(o=X(t,r,"f"),r+=o,o<=3){const p=10**(3-o);s+=M(Math.floor(xt(i)/p),o)}else if(o<=7)s+=(""+xt(i)).padEnd(o,"0");else throw"Input string was not in a correct format.";break;case"F":if(o=X(t,r,"F"),r+=o,o<=3){const p=10**(3-o),y=Math.floor(xt(i)/p);y!=0&&(s+=M(y,o))}else if(o<=7){const p=xt(i);p!=0&&(s+=M(p,3))}else throw"Input string was not in a correct format.";break;case"g":o=X(t,r,"g"),r+=o,s+="A.D.";break;case"h":switch(o=X(t,r,"h"),r+=o,o){case 1:const p=Je(i)%12;s+=p||12;break;case 2:default:const y=Je(i)%12;s+=M(y||12,2);break}break;case"H":switch(o=X(t,r,"H"),r+=o,o){case 1:s+=Je(i);break;case 2:default:s+=M(Je(i),2);break}break;case"K":switch(o=X(t,r,"K"),r+=o,o){case 1:switch(pr(i)){case 1:s+="Z";break;case 2:s+=et(i.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(o=X(t,r,"m"),r+=o,o){case 1:s+=Xt(i);break;case 2:default:s+=M(Xt(i),2);break}break;case"M":switch(o=X(t,r,"M"),r+=o,o){case 1:s+=Xe(i);break;case 2:s+=M(Xe(i),2);break;case 3:s+=$i[Xe(i)-1];break;case 4:default:s+=Ao[Xe(i)-1];break}break;case"s":switch(o=X(t,r,"s"),r+=o,o){case 1:s+=Gn(i);break;case 2:default:s+=M(Gn(i),2);break}break;case"t":switch(o=X(t,r,"t"),r+=o,o){case 1:s+=i.getHours()<12?"A":"P";break;case 2:default:s+=i.getHours()<12?"AM":"PM";break}break;case"y":switch(o=X(t,r,"y"),r+=o,o){case 1:s+=i.getFullYear()%100;break;case 2:s+=M(i.getFullYear()%100,2);break;default:s+=M(i.getFullYear(),o);break}break;case"z":o=X(t,r,"z"),r+=o;let c="";switch(pr(i)){case 1:c="+00:00";break;case 2:c=et(i.getTimezoneOffset()*-6e4);break;case 0:c=et(Di(i).getTimezoneOffset()*-6e4);break}const l=c[0]==="-"?"-":"+",a=parseInt(c.substring(1,3),10),f=parseInt(c.substring(4,6),10);switch(o){case 1:s+=`${l}${a}`;break;case 2:s+=`${l}${M(a,2)}`;break;default:s+=`${l}${M(a,2)}:${M(f,2)}`;break}break;case":":s+=":",r++;break;case"/":s+="/",r++;break;case"'":case'"':const[d,w]=Ii(t,r);s+=d,r+=w;break;case"%":const g=wr(t,r);if(g>=0&&g!==37)r+=2,s+=tr(i,String.fromCharCode(g),n);else throw new Error("Invalid format string");break;case"\\":const S=wr(t,r);if(S>=0)r+=2,s+=String.fromCharCode(S);else throw new Error("Invalid format string");break;default:r++,s+=u;break}}return s}function pr(e){return e.kind||0}function et(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+M(n,2)+":"+M(r,2)}function ki(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return M(e.getFullYear(),4)+"-"+M(e.getMonth()+1,2)+"-"+M(e.getDate(),2)+"T"+M(e.getHours(),2)+":"+M(e.getMinutes(),2)+":"+M(e.getSeconds(),2)+"."+M(e.getMilliseconds(),3)+(n?et(e.getTimezoneOffset()*-6e4):"")}}function Pi(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+et(t)}function Ai(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+et(e.offset??0);if(t.length===1)switch(t){case"D":return Oo(n);case"d":return vo(n);case"T":return Ro(xn(n));case"t":return Fo(xn(n));case"O":case"o":return Pi(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return tr(n,t,!0)}function Oo(e){return Po[Nn(e)]+", "+M(Jt(e),2)+" "+Ao[Xe(e)-1]+" "+Vo(e)}function vo(e){return M(Xe(e),2)+"/"+M(Jt(e),2)+"/"+Vo(e)}function Ro(e){return M(Je(e),2)+":"+M(Xt(e),2)+":"+M(Gn(e),2)}function Fo(e){return M(Je(e),2)+":"+M(Xt(e),2)}function Oi(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":return Oo(e);case"d":return vo(e);case"T":return Ro(e);case"t":return Fo(e);case"O":case"o":return ki(e,n);default:throw new Error("Unrecognized Date print format")}else return tr(e,t,n)}function Be(e,t,n){return e.offset!=null?Ai(e,t):Oi(e,t)}function Pe(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function vi(){return Pe(-621355968e5,1)}function Do(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const o=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(o!=null){let s,i=0;if(o[2]!=null){const u=o[2].split(":"),c=parseInt(u[0],10);i=c*3600+parseInt(u[1]||"0",10)*60+parseFloat(u[2]||"0"),o[3]!=null&&o[3].toUpperCase()==="PM"&&c<12&&(i+=720)}if(o[4]!=null){if(o[1]!=null)s=new Date(o[1]+" UTC");else{const u=new Date;s=new Date(u.getUTCFullYear()+"/"+(u.getUTCMonth()+1)+"/"+u.getUTCDate())}if(o[4]==="Z")r="Z";else{let u=parseInt(o[5],10)*60+parseInt(o[6]||"0",10);o[4][0]==="-"&&(u*=-1),r=u,i-=u*60}}else if(o[1]!=null)s=new Date(o[1]);else{const u=new Date;s=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())}n=new Date(s.getTime()+i*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-s.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function cn(e,t=!1){const[n,r]=Do(e),o=r!=null?t&&r==="Z"?1:2:0;return Pe(n.getTime(),o)}function Ri(e,t){try{return t.contents=cn(e),!0}catch{return!1}}function Fi(){return Pe(Date.now(),2)}function xn(e){return e.kind===1?e:Pe(e.getTime(),1)}function Di(e){return e.kind===2?e:Pe(e.getTime(),2)}function Jt(e){return e.kind===1?e.getUTCDate():e.getDate()}function Je(e){return e.kind===1?e.getUTCHours():e.getHours()}function xt(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function Xt(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function Xe(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function Gn(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function Vo(e){return e.kind===1?e.getUTCFullYear():e.getFullYear()}function Nn(e){return e.kind===1?e.getUTCDay():e.getDay()}function Vi(e,t){const n=Pe(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),o=n.getTimezoneOffset();return r!==o?Pe(n.getTime()+(o-r)*6e4,e.kind):n}else return n}function xi(e,t){return Vi(e,t*864e5)}const Gi=Kn;function Ni(e,t=0){if((t&-284)!==0)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function xo(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function yr(e,t,n=0){if(t==null)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let o,s=-1;for(;(o=e.exec(t))!=null;)o.index===s?e.lastIndex++:(s=o.index,r.push(o));return r}function Bi(e,t,n,r,o=0){function s(){let i=arguments[0];if(r){r--;const u=[],c=arguments.length,l=typeof arguments[c-1]!="string";let a=l?c-3:c-2;for(let f=0;f<a;f++)u.push(arguments[f]);u.index=arguments[a++],u.input=arguments[a++],l&&(u.groups=arguments[a]),i=n(u)}return i}if(typeof e=="string"){const i=e;e=Ni(t,r??0),t=i,r=void 0}if(typeof n=="function")return r=r??-1,t.substring(0,o)+t.substring(o).replace(e,s);if(n=n.replace(/\$0/g,i=>"$&").replace(/\${([^}]+)}/g,"$<$1>"),r!=null){let i;const u=t.substring(o),c=yr(e,u),l=yr.length>r?(i=c[r-1],u.substring(0,i.index+i[0].length)):u;return t.substring(0,o)+l.replace(e,n)+t.substring(o+l.length)}else return t.replace(e,n)}const lt=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,ct=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g,Ui=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function Lt(e,t){return pi(e,t)<0}function It(e){return{input:e,cont:ji(e)}}function Hi(e,t){let n=0,r=0,o="";ct.lastIndex=0;let s=ct.exec(e);for(;s;){const i=s.index+(s[1]||"").length;o+=e.substring(r,i).replace(/%%/g,"%");const[,,u,c,l,a]=s;r=ct.lastIndex,o+=Bo(t[n++],u,c,l,a),ct.lastIndex=r-1,s=ct.exec(e)}return o+=e.substring(r).replace(/%%/g,"%"),o}function Go(e,t){return typeof t=="string"?e(t):t.cont(e)}function an(e){return Go(t=>t,e)}function No(e){return Go(t=>{throw new Error(t)},e)}function Bo(e,t,n,r,o){let s="";if(t=t||"",o=o||"",wo(e))switch(o.toLowerCase()!=="x"&&(Lt(e,0)?(e=jt(e,-1),s="-"):t.indexOf(" ")>=0?s=" ":t.indexOf("+")>=0&&(s="+")),r=r==null?null:parseInt(r,10),o){case"f":case"F":r=r??6,e=Ze(e,r);break;case"g":case"G":e=r!=null?Zt(e,r):Zt(e);break;case"e":case"E":e=r!=null?Wt(e,r):Wt(e);break;case"x":e=Dn(e);break;case"X":e=Dn(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=Be(e):e=ce(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=s+e;else{const i=t.indexOf("0")>=0,u=t.indexOf("-")>=0,c=u||!i?" ":"0";c==="0"?(e=St(e,n-s.length,c,u),e=s+e):e=St(s+e,n,c,u)}return e}function Uo(e,t,n,r="",o=-1){return(...s)=>{let i=r;const u=t.slice(),c=n.slice();for(const l of s){const[,,a,f,d,w]=c[0];let g=f;if(o>=0)g=o,o=-1;else if(g==="*"){if(l<0)throw new Error("Non-negative number required");o=l;continue}i+=u[0],i+=Bo(l,a,g,d,w),u.splice(0,1),c.splice(0,1)}return c.length===0?(i+=u[0],e(i)):Uo(e,u,c,i,o)}}function ji(e){return t=>{lt.lastIndex=0;const n=[],r=[];let o=0,s=lt.exec(e);for(;s;){const i=s.index+(s[1]||"").length;n.push(e.substring(o,i).replace(/%%/g,"%")),r.push(s),o=lt.lastIndex,lt.lastIndex-=1,s=lt.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(o).replace(/%%/g,"%")),Uo(t,n,r))}}function Gt(e){let[t,n]=e.split(".");return n===void 0&&(n=""),{integral:t,decimal:n}}function kn(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Li(e,...t){let n;return n=e,n.replace(Ui,(r,o,s,i,u,c)=>{if(o<0||o>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let l=t[o],a;if(wo(l))switch(u=u==""?null:parseInt(u,10),i){case"b":case"B":if(!In(l))throw new Error("Format specifier was invalid.");l=(l>>>0).toString(2).replace(/^0+/,"").padStart(u||1,"0");break;case"c":case"C":const f=Lt(l,0);Lt(l,0)&&(l=jt(l,-1)),u=u??2,l=Ze(l,u),a=Gt(l),l="Â¤"+kn(a.integral)+"."+at(a.decimal,u,"0"),f&&(l="("+l+")");break;case"d":case"D":if(!In(l))throw new Error("Format specifier was invalid.");l=String(l),u!=null&&(l.startsWith("-")?l="-"+Nt(l.substring(1),u,"0"):l=Nt(l,u,"0"));break;case"e":case"E":l=u!=null?Wt(l,u):Wt(l);break;case"f":case"F":u=u??2,l=Ze(l,u),u>0&&(a=Gt(l),l=a.integral+"."+at(a.decimal,u,"0"));break;case"g":case"G":l=u!=null?Zt(l,u):Zt(l),l=Sr(Sr(l,"0"),".");break;case"n":case"N":u=u??2,l=Ze(l,u),a=Gt(l),l=kn(a.integral)+"."+at(a.decimal,u,"0");break;case"p":case"P":u=u??2,l=Ze(jt(l,100),u),a=Gt(l),l=kn(a.integral)+"."+at(a.decimal,u,"0")+" %";break;case"r":case"R":throw new Error("The round-trip format is not supported by Fable");case"x":case"X":if(!In(l))throw new Error("Format specifier was invalid.");u=u??2,l=Nt(Dn(l),u,"0"),i==="X"&&(l=l.toUpperCase());break;default:if(i)throw new Error("Format specifier was invalid.");if(c){let d="";l=c.replace(/([0#,]+)(\.[0#]+)?/,(w,g,S)=>{Lt(l,0)&&(l=jt(l,-1),d="-"),S=S==null?"":S.substring(1),l=Ze(l,Math.max(S.length,0));let[p,y]=l.split(".");y||(y="");const O=g.replace(/,/g,"").replace(/^#+/,"").length;p=Nt(p,O,"0");const L=S.replace(/#+$/,"").length;if(L>y.length?y=at(y,L,"0"):L<y.length&&(y=y.substring(0,L)+y.substring(L).replace(/0+$/,"")),g.indexOf(",")>0){const Tn=p.length%3,$n=Math.floor(p.length/3);let dr=Tn>0?p.substr(0,Tn)+($n>0?",":""):"";for(let Dt=0;Dt<$n;Dt++)dr+=p.substr(Tn+Dt*3,3)+(Dt<$n-1?",":"");p=dr}return y.length>0?p+"."+y:p}),l=d+l}}else l instanceof Date?l=Be(l,c||i):l=ce(l);return s=parseInt((s||" ").substring(1),10),isNaN(s)||(l=St(String(l),Math.abs(s)," ",s<0)),l})}function Ho(...e){return e.map(t=>String(t)).join("")}function fn(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function St(e,t,n,r){n=n||" ",t=t-e.length;for(let o=0;o<t;o++)e=r?e+n:n+e;return e}function Nt(e,t,n){return St(e,t,n)}function at(e,t,n){return St(e,t,n,!0)}function qi(e,...t){if(t.length===0)return e.trim();const n="["+xo(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}function Sr(e,...t){return t.length===0?e.trimEnd():e.replace(new RegExp("["+xo(t.join(""))+"]+$"),"")}function kt(e){return e==null}function zi(e,t){if(t==null)throw new Error(Ho("Value cannot be null. (Parameter '",e,..."')"));return t}function Ve(e,t){if(e==null)return new Array(t);{const n=e;return typeof n=="function"?new n(t):new Array(t)}}function Zi(e,t){return e>t?e:t}function Wi(e,t){return e<t?e:t}const jo="Collection was empty.";function Ji(){throw new Error("Arrays had different lengths")}function Ct(e,t,n,r){const o=t|0;return e.fill(r,o,o+n)}function me(e,t,n){const r=t.length|0,o=Ve(n,r);for(let s=0;s<=r-1;s++)re(o,s,e(E(s,t)));return o}function Cr(e,t){const n=Zi(0,e)|0;return t.slice(0,0+n)}function Xi(e,t){const n=Array.isArray(e)?e:Array.from(e);switch(n.length|0){case 0:return Ve(t,0);case 1:return E(0,n);default:{let o=0,s=0;for(let u=0;u<=n.length-1;u++){const c=E(u,n);s=s+c.length|0}const i=Ve(t,s);for(let u=0;u<=n.length-1;u++){const c=E(u,n);for(let l=0;l<=c.length-1;l++)re(i,o,E(l,c)),o=o+1|0}return i}}}function Ki(e,t,n){return Xi(me(e,t,W()),n)}function Yi(e,t){return t.filter(e)}function Qi(e,t){const n=Ve(t,1);return re(n,0,e),n}function eu(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=Ve(n,e);for(let o=0;o<=e-1;o++)re(r,o,t(o));return r}function tu(e){return e.slice()}function nu(e){return e.slice().reverse()}function ru(e,t,n){const r=t.length|0,o=Ve(n,r),s=Ve(n,r);let i=0,u=0;for(let c=0;c<=r-1;c++)e(E(c,t))?(re(o,i,E(c,t)),i=i+1|0):(re(s,u,E(c,t)),u=u+1|0);return[Cr(i,o),Cr(u,s)]}function ou(e,t){return t.find(e)}function nr(e,t,n){const r=e;return n.reduce(r,t)}function su(e,t){const n=e.slice();return n.sort((r,o)=>t.Compare(r,o)|0),n}function iu(e,t){if(t.length===0)return[[]];{const n=[];for(let r=0;r<=~~Math.ceil(t.length/e)-1;r++){let o;const s=r*e|0;o=t.slice(s,s+e),n.push(o)}return n}}function uu(e){if(e.length!==0)return J(E(0,e))}function E(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function re(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function lu(e,t,n){return t.reduceRight(((r,o)=>e(o,r)),n)}function cu(e,t,n,r){let o=r;t.length!==n.length&&Ji();const s=t.length|0;for(let i=1;i<=s;i++)o=e(i-1,E(s-i,t),E(s-i,n),o);return o}function au(e,t,n,r){return cu((o,s,i,u)=>e(s,i,u),t,n,r)}function ve(e,t){let n=t.GetZero();for(let r=0;r<=e.length-1;r++)n=t.Add(n,E(r,e));return n}class oe extends se{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+fn("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:t instanceof oe?((s,i)=>{e:for(;;){const u=s,c=i,l=u.tail,a=c.tail;if(l!=null)if(a!=null){const f=m(l),d=m(a);if(de(u.head,c.head)){s=f,i=d;continue e}else return!1}else return!1;else return a==null}})(n,t):!1}GetHashCode(){return((r,o,s)=>{e:for(;;){const i=r,u=o,c=s,l=c.tail;if(l!=null){const a=m(l);if(i>18)return u|0;r=i+1,o=(u<<1)+Ce(c.head)+631*i,s=a;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return t instanceof oe?((s,i)=>{e:for(;;){const u=s,c=i,l=u.tail,a=c.tail;if(l!=null)if(a!=null){const f=m(l),d=m(a),w=j(u.head,c.head)|0;if(w===0){s=f,i=d;continue e}else return w|0}else return 1;else return a!=null?-1:0}})(n,t)|0:1}GetEnumerator(){return hu(this)}[Symbol.iterator](){return Mt(R(this))}"System.Collections.IEnumerable.GetEnumerator"(){return R(this)}}class fu{constructor(t){this.xs=t,this.it=this.xs,this.current=W()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=m(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=W()}Dispose(){}}function hu(e){return new fu(e)}function nt(){return new oe(W(),void 0)}function Pt(e,t){return new oe(e,t)}function hn(e){return e.tail==null}function Lo(e){return((n,r)=>{e:for(;;){const o=n,i=r.tail;if(i!=null){n=o+1,r=m(i);continue e}else return o|0}})(0,e)|0}function rr(e){if(e.tail!=null)return e.head;throw new Error(jo+"\\nParameter name: list")}function dn(e){const t=e.tail;if(t!=null)return m(t);throw new Error(jo+"\\nParameter name: list")}function Ee(){return nt()}function ne(e,t){return Pt(e,t)}function _t(e){return Pt(e,nt())}function P(e){return hn(e)}function du(e){return Lo(e)|0}function _(e){return rr(e)}function mu(e){if(!hn(e))return J(rr(e))}function k(e){return dn(e)}function mn(e){const t=Lo(e)|0,n=Ct(new Array(t),0,t,null);return((o,s)=>{e:for(;;){const i=o,u=s;if(!hn(u)){re(n,i,rr(u)),o=i+1,s=dn(u);continue e}break}})(0,e),n}function gn(e,t,n){let r=t,o=n;for(;!hn(o);)r=e(r,_(o)),o=dn(o);return r}function qo(e){return gn((t,n)=>Pt(n,t),nt(),e)}function F(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=Pt(E(r,e),n);return n}function wn(e){return F(e,nt())}function gu(e){if(le(e))return wn(e);if(e instanceof oe)return e;{const t=nt();let n=t;const r=R(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){let i,u;const c=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=(i=n,u=new oe(c,void 0),i.tail=u,u)}}finally{A(r)}const o=n,s=nt();return o.tail=s,dn(t)}}function zo(e,t){return gn((n,r)=>Pt(r,n),t,qo(e))}const wu="Enumeration already finished.",pu="Enumeration has not started. Call MoveNext.",Zo="The input sequence was empty.",yu="Reset is not supported on this enumerator.";function Su(){throw new Error(yu)}function or(){throw new Error(pu)}function Bn(){throw new Error(wu)}class Cu{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const o=R(t);try{for(;n<4&&o["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+ce(o["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{A(o)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return Mt(R(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function _u(e){return new Cu(e)}class bu{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){Su()}Dispose(){this.dispose()}}function sr(e,t,n){return new bu(e,t,n)}function Eu(e){let t,n,r=!1,o=!1,s;const i=()=>{if(o=!0,n!=null){const u=m(n);try{A(u)}finally{n=void 0}}if(t!=null){const u=m(t);try{A(u)}finally{t=void 0}}};return sr(()=>(r?o&&Bn():or(),s!=null?m(s):Bn()),()=>{if(r||(r=!0),o)return!1;{let u;for(;u==null;){let c;const l=t,a=n;if(l!=null)if(a!=null){const f=m(a);if(f["System.Collections.IEnumerator.MoveNext"]())s=J(f["System.Collections.Generic.IEnumerator`1.get_Current"]()),u=!0;else try{A(f)}finally{n=void 0}}else{const f=m(l);f["System.Collections.IEnumerator.MoveNext"]()?n=(c=f["System.Collections.Generic.IEnumerator`1.get_Current"](),R(c)):(i(),u=!1)}else t=R(e)}return m(u)}},()=>{o||i()})}function Wo(e,t,n){let r=!1,o,s=J(e());const i=()=>{if(s!=null){const c=m(s);try{n(c)}finally{s=void 0}}},u=()=>{try{i()}finally{o=void 0}};return sr(()=>(r||or(),o!=null?m(o):Bn()),()=>{if(r||(r=!0),s!=null){const c=m(s);let l;try{l=t(c)}catch(a){throw u(),a}return l!=null?(o=l,!0):(u(),!1)}else return!1},i)}function Mu(e,t){let n,r=t;return sr(()=>{if(n!=null){const o=m(n)[0];return m(n)[1],o}else return or()},()=>(n=e(r),n!=null?(m(n)[0],r=m(n)[1],!0):!1),()=>{})}function At(e){return _u(e)}function ae(e){return R(zi("source",e))}function G(e){return At(()=>R(e()))}function ir(e){return At(()=>Eu(e))}function Tu(e,t){return At(()=>Mu(e,t))}function Kt(){return G(()=>new Array(0))}function _e(e){return G(()=>Qi(e))}function be(e){return e instanceof oe?mn(e):Array.from(e)}function Jo(e){return le(e)?wn(e):e instanceof oe?e:gu(e)}function Xo(e,t,n){return At(()=>Wo(e,t,n))}function Ko(e,t,n){return At(()=>{let r=-1;return Wo(e,o=>(r=r+1|0,t(r,o)),n)})}function pn(e,t){return ir([e,t])}function Yo(e,t){return Xo(()=>ae(t),n=>{let r;for(;r==null&&n["System.Collections.IEnumerator.MoveNext"]();)r=e(n["System.Collections.Generic.IEnumerator`1.get_Current"]());return r},n=>{A(n)})}function $u(e,t,n){const r=ae(t);try{const o=ae(n);try{let s=0,i=r["System.Collections.IEnumerator.MoveNext"](),u=o["System.Collections.IEnumerator.MoveNext"]();for(;s===0&&i&&u;)s=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),o["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,s===0&&(i=r["System.Collections.IEnumerator.MoveNext"](),u=o["System.Collections.IEnumerator.MoveNext"]());return(s!==0?s:i?1:u?-1:0)|0}finally{A(o)}}finally{A(r)}}function Le(e,t,n){const r=ae(t);try{let o=!1;for(;!o&&r["System.Collections.IEnumerator.MoveNext"]();)o=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return o}finally{A(r)}}function Qo(e,t){return Yo(n=>{if(e(n))return J(n)},t)}function Ot(e,t,n){const r=ae(n);try{let o=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)o=e(o,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return o}finally{A(r)}}function Iu(e){if(le(e))return uu(e);if(e instanceof oe)return mu(e);{const t=ae(e);try{return t["System.Collections.IEnumerator.MoveNext"]()?J(t["System.Collections.Generic.IEnumerator`1.get_Current"]()):void 0}finally{A(t)}}}function es(e){const t=Iu(e);if(t==null)throw new Error(Zo+"\\nParameter name: source");return m(t)}function ur(e,t){Ot((n,r)=>{e(r)},void 0,t)}function ku(e,t){Ot((n,r)=>(e(n,r),n+1|0),0,t)}function Pu(e){if(le(e))return e.length|0;if(e instanceof oe)return du(e)|0;{const t=ae(e);try{let n=0;for(;t["System.Collections.IEnumerator.MoveNext"]();)n=n+1|0;return n|0}finally{A(t)}}}function N(e,t){return Xo(()=>ae(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?J(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{A(n)})}function Au(e,t){return Ko(()=>ae(t),(n,r)=>r["System.Collections.IEnumerator.MoveNext"]()?J(e(n,r["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{A(n)})}function Ou(e,t){const n=ae(t);try{const r=o=>{e:for(;;){const s=o;if(n["System.Collections.IEnumerator.MoveNext"]()){o=e(s,n["System.Collections.Generic.IEnumerator`1.get_Current"]());continue e}else return s;break}};if(n["System.Collections.IEnumerator.MoveNext"]())return r(n["System.Collections.Generic.IEnumerator`1.get_Current"]());throw new Error(Zo)}finally{A(n)}}function ts(e,t){return Ko(()=>ae(t),(n,r)=>n<e&&r["System.Collections.IEnumerator.MoveNext"]()?J(r["System.Collections.Generic.IEnumerator`1.get_Current"]()):void 0,n=>{A(n)})}function ge(e,t){return G(()=>ir(N(e,t)))}function lr(e,t){return Qo(e,t)}function Un(e,t){return Ou((n,r)=>t.Compare(r,n)>0?r:n,e)}function vu(e,t){return G(()=>iu(e,be(t)))}class Ru extends se{constructor(t,n){super(),this.Left=t|0,this.Right=n|0}toString(){const t=this;return`[${t.Left}-${t.Right}]`}}function cr(e,t){return new Ru(e,t)}function Fu(e){return e.Left===e.Right}class xe extends se{constructor(t,n){super(),this.Row=t|0,this.Column=n|0}toString(){const t=this;return`(${t.Row}, ${t.Column})`}}function Du(e,t){return new xe(e,t)}function Vu(e,t){const n=[e,t];return[n[1],n[0]]}function ns(e,t,n){return Ct(new Array(e),0,e,Ct(new Array(t),0,t,n))}function xu(e){return eu(e.length,t=>tu(E(t,e)))}function Hn(e,t,n){return E(t,E(e,n))}function Yt(e,t,n,r){E(e,r)[t]=n}const Te={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4,LowerAll:5};function Pn(e,t){return e.replace(/[a-z]?[A-Z]/g,n=>n.length===1?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function Gu(e,t){switch(t){case Te.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case Te.SnakeCase:return Pn(e,"_");case Te.SnakeCaseAllCaps:return Pn(e,"_").toUpperCase();case Te.KebabCase:return Pn(e,"-");case Te.LowerAll:return e.toLowerCase();case Te.None:default:return e}}function rs(e,t=Te.None){const n={},r=t;function o(i){throw new Error("Cannot infer key and value of "+String(i))}function s(i,u,c){i=Gu(i,u),n[i]=c}for(let i of e){let u=Te.None;if(i==null&&o(i),i instanceof we){const c=i.cases()[i.tag];i=i.fields.length===0?c:[c].concat(i.fields),u=r}if(Array.isArray(i))switch(i.length){case 0:o(i);break;case 1:s(i[0],u,!0);break;case 2:const c=i[1];s(i[0],u,c);break;default:s(i[0],u,i.slice(1))}else typeof i=="string"?s(i,u,!0):o(i)}return n}function os(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function Nu(e,t){return t.has(e)?!1:(t.add(e),!0)}function Bu(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}function ss(e,t){if(e.has(t))return e.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}class Uu{constructor(t,n){const r=new B(W());this.comparer=n,r.contents=this,this.hashMap=new Map([]),this["init@9"]=1;const o=R(t);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const s=o["System.Collections.Generic.IEnumerator`1.get_Current"]();An(r.contents,s)}}finally{A(o)}}get[Symbol.toStringTag](){return"HashSet"}toJSON(){const t=this;return Array.from(t)}"System.Collections.IEnumerable.GetEnumerator"(){return R(this)}GetEnumerator(){return R(ir(this.hashMap.values()))}[Symbol.iterator](){return Mt(R(this))}"System.Collections.Generic.ICollection`1.Add2B595"(t){An(this,t)}"System.Collections.Generic.ICollection`1.Clear"(){_r(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(t){return Er(this,t)}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){ku((o,s)=>{re(t,n+o,s)},this)}"System.Collections.Generic.ICollection`1.get_Count"(){return br(this)|0}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(t){return Mr(this,t)}get size(){return br(this)|0}add(t){const n=this;return An(n,t),n}clear(){_r(this)}delete(t){return Mr(this,t)}has(t){return Er(this,t)}keys(){return N(n=>n,this)}values(){return N(n=>n,this)}entries(){return N(n=>[n,n],this)}forEach(t,n){const r=this;ur(o=>{t(o,o,r)},r)}}function ar(e,t){const n=e.comparer.GetHashCode(t)|0;let r,o=W();return r=[os(e.hashMap,n,new B(()=>o,s=>{o=s})),o],r[0]?[!0,n,r[1].findIndex(s=>e.comparer.Equals(t,s))]:[!1,n,-1]}function _r(e){e.hashMap.clear()}function br(e){let t=0,n=R(e.hashMap.values());try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=t+r.length|0}}finally{A(n)}return t|0}function An(e,t){const n=ar(e,t);return n[0]?n[2]>-1?!1:(ss(e.hashMap,n[1]).push(t),!0):(e.hashMap.set(n[1],[t]),!0)}function Er(e,t){const n=ar(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return!0;default:return!1}}function Mr(e,t){const n=ar(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return ss(e.hashMap,n[1]).splice(n[2],1),!0;default:return!1}}class is{constructor(t){this.k=t}}function Y(e){return new is(e)}function b(e){return e.k}class I extends is{constructor(t,n,r,o){super(t),this.left=n,this.right=r,this.h=o|0}}function Q(e,t,n,r){return new I(e,t,n,r)}function $(e){return e.left}function T(e){return e.right}function Ke(e){return e.h|0}function us(e,t){e:for(;;){const n=e,r=t;if(n!=null){const o=m(n);if(o instanceof I){const s=o;e=$(s),t=us(T(s),r+1);continue e}else return r+1|0}else return r|0}}function Hu(e){return us(e,0)|0}function K(e,t,n){let r,o,s;const i=e;if(i!=null){const a=m(i);s=a instanceof I?(r=a,Ke(r)):1}else s=0;let u;const c=n;if(c!=null){const a=m(c);u=a instanceof I?(o=a,Ke(o)):1}else u=0;const l=(s<u?u:s)|0;return l===0?Y(t):Q(t,e,n,l+1)}function Qt(e,t,n){let r,o,s,i,u,c,l,a,f;const d=e;if(d!=null){const S=m(d);f=S instanceof I?(r=S,Ke(r)):1}else f=0;let w;const g=n;if(g!=null){const S=m(g);w=S instanceof I?(o=S,Ke(o)):1}else w=0;if(w>f+2){const S=m(n);if(S instanceof I){const p=S;if(s=$(p),(s!=null?(i=m(s),i instanceof I?(u=i,Ke(u)):1):0)>f+1){const y=m($(p));if(y instanceof I){const O=y;return K(K(e,t,$(O)),b(O),K(T(O),b(p),T(p)))}else throw new Error("internal error: Set.rebalance")}else return K(K(e,t,$(p)),b(p),T(p))}else throw new Error("internal error: Set.rebalance")}else if(f>w+2){const S=m(e);if(S instanceof I){const p=S;if(c=T(p),(c!=null?(l=m(c),l instanceof I?(a=l,Ke(a)):1):0)>w+1){const y=m(T(p));if(y instanceof I){const O=y;return K(K($(p),b(p),$(O)),b(O),K(T(O),t,n))}else throw new Error("internal error: Set.rebalance")}else return K($(p),b(p),K(T(p),t,n))}else throw new Error("internal error: Set.rebalance")}else return K(e,t,n)}function rt(e,t,n){if(n!=null){const r=m(n),o=e.Compare(t,b(r))|0;if(r instanceof I){const s=r;return o<0?Qt(rt(e,t,$(s)),b(s),T(s)):o===0?n:Qt($(s),b(s),rt(e,t,T(s)))}else{const s=e.Compare(t,b(r))|0;return s<0?Q(t,void 0,n,2):s===0?n:Q(t,n,void 0,2)}}else return Y(t)}function ls(e){if(e!=null){const t=m(e);if(t instanceof I){const n=t;if($(n)==null)return[b(n),T(n)];{const r=ls($(n));return[r[0],K(r[1],b(n),T(n))]}}else return[b(t),void 0]}else throw new Error("internal error: Set.spliceOutSuccessor")}function jn(e,t,n){if(n!=null){const r=m(n),o=e.Compare(t,b(r))|0;if(r instanceof I){const s=r;if(o<0)return Qt(jn(e,t,$(s)),b(s),T(s));if(o===0){if($(s)==null)return T(s);if(T(s)==null)return $(s);{const i=ls(T(s));return K($(s),i[0],i[1])}}else return Qt($(s),b(s),jn(e,t,T(s)))}else return o===0?void 0:n}else return n}function cs(e,t,n){e:for(;;){const r=e,o=t,s=n;if(s!=null){const i=m(s),u=r.Compare(o,b(i))|0;if(i instanceof I){const c=i;if(u<0){e=r,t=o,n=$(c);continue e}else{if(u===0)return!0;e=r,t=o,n=T(c);continue e}}else return u===0}else return!1}}function as(e,t){e:for(;;){const n=e,r=t;if(r!=null){const o=m(r);if(o instanceof I){const s=o;as(n,$(s)),n(b(s)),e=n,t=T(s);continue e}else n(b(o))}break}}class ju extends se{constructor(t,n){super(),this.stack=t,this.started=n}}function fs(e){e:for(;;){const t=e;if(P(t))return Ee();{const n=_(t),r=k(t);if(n!=null){const o=m(n);if(o instanceof I){const s=o;e=F([$(s),Y(b(s)),T(s)],r);continue e}else return t}else{e=r;continue e}}}}function Tr(e){return new ju(fs(_t(e)),!1)}function Lu(){throw new Error("Enumeration not started")}function qu(){throw new Error("Enumeration already started")}function $r(e){if(e.started){const t=e.stack;if(P(t))return qu();if(_(t)!=null){const n=m(_(t));return b(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return Lu()}function zu(e){if(e.started){const t=e.stack;if(P(t))return!1;if(_(t)!=null){if(m(_(t))instanceof I)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=fs(k(t)),!P(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!P(e.stack)}function Ir(e){let t=Tr(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return $r(t)},"System.Collections.IEnumerator.get_Current"(){return $r(t)},"System.Collections.IEnumerator.MoveNext"(){return zu(t)},"System.Collections.IEnumerator.Reset"(){t=Tr(e)},Dispose(){}}}function Zu(e,t,n){e:for(;;){const r=e,o=t,s=n;if(P(o))return P(s)?0:-1;if(P(s))return 1;if(_(s)!=null)if(_(o)!=null){const i=m(_(o)),u=m(_(s));if(i instanceof I){const c=i;if($(c)==null)if(u instanceof I){const l=u;if($(l)==null){const a=r.Compare(b(c),b(l))|0;if(a!==0)return a|0;e=r,t=ne(T(c),k(o)),n=ne(T(l),k(s));continue e}else{let a,f,d,w,g;switch(P(o)?P(s)?a=2:_(s)!=null?(a=1,w=k(s),g=m(_(s))):a=2:_(o)!=null?(a=0,f=k(o),d=m(_(o))):P(s)?a=2:_(s)!=null?(a=1,w=k(s),g=m(_(s))):a=2,a){case 0:if(d instanceof I){const S=d;e=r,t=F([$(S),Q(b(S),void 0,T(S),0)],f),n=s;continue e}else{e=r,t=F([void 0,Y(b(d))],f),n=s;continue e}case 1:if(g instanceof I){const S=g;e=r,t=o,n=F([$(S),Q(b(S),void 0,T(S),0)],w);continue e}else{e=r,t=o,n=F([void 0,Y(b(g))],w);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const l=r.Compare(b(c),b(u))|0;if(l!==0)return l|0;e=r,t=ne(T(c),k(o)),n=ne(void 0,k(s));continue e}else{let l,a,f,d,w;switch(P(o)?P(s)?l=2:_(s)!=null?(l=1,d=k(s),w=m(_(s))):l=2:_(o)!=null?(l=0,a=k(o),f=m(_(o))):P(s)?l=2:_(s)!=null?(l=1,d=k(s),w=m(_(s))):l=2,l){case 0:if(f instanceof I){const g=f;e=r,t=F([$(g),Q(b(g),void 0,T(g),0)],a),n=s;continue e}else{e=r,t=F([void 0,Y(b(f))],a),n=s;continue e}case 1:if(w instanceof I){const g=w;e=r,t=o,n=F([$(g),Q(b(g),void 0,T(g),0)],d);continue e}else{e=r,t=o,n=F([void 0,Y(b(w))],d);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(u instanceof I){const c=u;if($(c)==null){const l=r.Compare(b(i),b(c))|0;if(l!==0)return l|0;e=r,t=ne(void 0,k(o)),n=ne(T(c),k(s));continue e}else{let l,a,f,d,w;switch(P(o)?P(s)?l=2:_(s)!=null?(l=1,d=k(s),w=m(_(s))):l=2:_(o)!=null?(l=0,a=k(o),f=m(_(o))):P(s)?l=2:_(s)!=null?(l=1,d=k(s),w=m(_(s))):l=2,l){case 0:if(f instanceof I){const g=f;e=r,t=F([$(g),Q(b(g),void 0,T(g),0)],a),n=s;continue e}else{e=r,t=F([void 0,Y(b(f))],a),n=s;continue e}case 1:if(w instanceof I){const g=w;e=r,t=o,n=F([$(g),Q(b(g),void 0,T(g),0)],d);continue e}else{e=r,t=o,n=F([void 0,Y(b(w))],d);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const c=r.Compare(b(i),b(u))|0;if(c!==0)return c|0;e=r,t=k(o),n=k(s);continue e}}else{m(_(s));let i,u,c,l,a;switch(P(o)?P(s)?i=2:_(s)!=null?(i=1,l=k(s),a=m(_(s))):i=2:_(o)!=null?(i=0,u=k(o),c=m(_(o))):P(s)?i=2:_(s)!=null?(i=1,l=k(s),a=m(_(s))):i=2,i){case 0:if(c instanceof I){const f=c;e=r,t=F([$(f),Q(b(f),void 0,T(f),0)],u),n=s;continue e}else{e=r,t=F([void 0,Y(b(c))],u),n=s;continue e}case 1:if(a instanceof I){const f=a;e=r,t=o,n=F([$(f),Q(b(f),void 0,T(f),0)],l);continue e}else{e=r,t=o,n=F([void 0,Y(b(a))],l);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(_(o)!=null){m(_(o));let i,u,c,l,a;switch(P(o)?P(s)?i=2:_(s)!=null?(i=1,l=k(s),a=m(_(s))):i=2:_(o)!=null?(i=0,u=k(o),c=m(_(o))):P(s)?i=2:_(s)!=null?(i=1,l=k(s),a=m(_(s))):i=2,i){case 0:if(c instanceof I){const f=c;e=r,t=F([$(f),Q(b(f),void 0,T(f),0)],u),n=s;continue e}else{e=r,t=F([void 0,Y(b(c))],u),n=s;continue e}case 1:if(a instanceof I){const f=a;e=r,t=o,n=F([$(f),Q(b(f),void 0,T(f),0)],l);continue e}else{e=r,t=o,n=F([void 0,Y(b(a))],l);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=k(o),n=k(s);continue e}}}function kr(e,t,n){return t==null?n==null?0:-1:n==null?1:Zu(e,_t(t),_t(n))|0}function Wu(e,t,n){let r=n;as(o=>{re(t,r,o),r=r+1|0},e)}function Ju(e,t,n){e:for(;;){const r=e,o=t,s=n;if(s["System.Collections.IEnumerator.MoveNext"]()){e=r,t=rt(r,s["System.Collections.Generic.IEnumerator`1.get_Current"](),o),n=s;continue e}else return o}}function Xu(e,t){return nr((n,r)=>rt(e,r,n),void 0,t)}function Ku(e,t){return gn((n,r)=>rt(e,r,n),void 0,t)}function Yu(e,t){if(le(t))return Xu(e,t);if(t instanceof oe)return Ku(e,t);{const n=R(t);try{return Ju(e,void 0,n)}finally{A(n)}}}class en{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return tl(this)|0}Equals(t){let n;const r=this;return t instanceof en&&(n=t,kr(ke(r),ee(r),ee(n))===0)}toString(){return"set ["+fn("; ",this)+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){let n;const r=this;return(t instanceof en?(n=t,kr(ke(r),ee(r),ee(n))):1)|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return cs(ke(n),t,ee(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){Wu(ee(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return On(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return On(this)|0}GetEnumerator(){return Ir(ee(this))}[Symbol.iterator](){return Mt(R(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Ir(ee(this))}get size(){return On(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return Sn(this,t)}keys(){return N(n=>n,this)}values(){return N(n=>n,this)}entries(){return N(n=>[n,n],this)}forEach(t,n){const r=this;ur(o=>{t(o,o,r)},r)}}function yn(e,t){return new en(e,t)}function ke(e){return e.comparer}function ee(e){return e.tree}function Qu(e){return yn(e,void 0)}function el(e,t){return yn(ke(e),rt(ke(e),t,ee(e)))}function tn(e,t){return yn(ke(e),jn(ke(e),t,ee(e)))}function On(e){return Hu(ee(e))|0}function Sn(e,t){return cs(ke(e),t,ee(e))}function fr(e){return ee(e)==null}function tl(e){let t=0;const n=R(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+Ce(r)+631|0}}finally{A(n)}return Math.abs(t)|0}function nl(e){return Qu(e)}function vt(e,t){return yn(t,Yu(t,e))}class hs extends se{constructor(t,n){super(),this.DominoPlaces=t,this.Cells=n}Equals(t){return Pr(this,t)}GetHashCode(){return si(bt(this).Value)|0}"System.IEquatable`1.Equals2B595"(t){return Pr(this,t)}CompareTo(t){return Ar(this,t)|0}"System.IComparable`1.CompareTo2B595"(t){return Ar(this,t)|0}}function rl(e){return e.Cells.length|0}function ol(e){return E(0,e.Cells).length|0}function ds(e,t){return Hn(t.Row,t.Column,e.Cells)|0}function bt(e){return new fo(()=>vt(e.DominoPlaces,{Compare:(t,n)=>un(t,n)|0}))}function Pr(e,t){return bt(e).Value.Equals(bt(t).Value)}function Ar(e,t){return j(bt(e).Value,bt(t).Value)|0}function sl(e,t){return new hs(Ee(),ns(e,t,-1))}function il(e,t){return ds(t,e)===-1}function ul(e,t,n,r){const o=[t,n],s=o[1],i=o[0],u=xu(r.Cells);return Yt(i.Row,i.Column,e.Left,u),Yt(s.Row,s.Column,e.Right,u),new hs(ne([e,o],r.DominoPlaces),u)}function ll(e,t,n,r){const o=j(e,n)|0;if(o===0)throw new Error("The step of a range cannot be zero");const s=o>0;return i=>{const u=j(i,t)|0;return s&&u<=0||!s&&u>=0?[i,r(i,e)]:void 0}}function cl(e,t,n,r,o){const s=ll(t,n,r,o);return G(()=>Tu(s,e))}function Ln(e,t,n){return cl(e,t,n,0,(r,o)=>r+o)}class ms{constructor(t,n){this.k=t,this.v=n}}function Et(e,t){return new ms(e,t)}function x(e){return e.k}function Z(e){return e.v}class D extends ms{constructor(t,n,r,o,s){super(t,n),this.left=r,this.right=o,this.h=s|0}}function mt(e,t,n,r,o){return new D(e,t,n,r,o)}function U(e){return e.left}function H(e){return e.right}function $e(e){return e.h|0}function gs(e,t){e:for(;;){const n=e,r=t;if(r!=null){const o=m(r);if(o instanceof D){const s=o;e=gs(n+1,U(s)),t=H(s);continue e}else return n+1|0}else return n|0}}function al(e){return gs(0,e)|0}function ue(e,t,n,r){let o,s,i;const u=e;if(u!=null){const f=m(u);i=f instanceof D?(o=f,$e(o)):1}else i=0;let c;const l=r;if(l!=null){const f=m(l);c=f instanceof D?(s=f,$e(s)):1}else c=0;const a=(i<c?c:i)|0;return a===0?Et(t,n):mt(t,n,e,r,a+1)}function Or(e,t,n,r){let o,s,i,u,c,l,a,f,d;const w=e;if(w!=null){const p=m(w);d=p instanceof D?(o=p,$e(o)):1}else d=0;let g;const S=r;if(S!=null){const p=m(S);g=p instanceof D?(s=p,$e(s)):1}else g=0;if(g>d+2){const p=m(r);if(p instanceof D){const y=p;if(i=U(y),(i!=null?(u=m(i),u instanceof D?(c=u,$e(c)):1):0)>d+1){const O=m(U(y));if(O instanceof D){const L=O;return ue(ue(e,t,n,U(L)),x(L),Z(L),ue(H(L),x(y),Z(y),H(y)))}else throw new Error("internal error: Map.rebalance")}else return ue(ue(e,t,n,U(y)),x(y),Z(y),H(y))}else throw new Error("internal error: Map.rebalance")}else if(d>g+2){const p=m(e);if(p instanceof D){const y=p;if(l=H(y),(l!=null?(a=m(l),a instanceof D?(f=a,$e(f)):1):0)>g+1){const O=m(H(y));if(O instanceof D){const L=O;return ue(ue(U(y),x(y),Z(y),U(L)),x(L),Z(L),ue(H(L),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return ue(U(y),x(y),Z(y),ue(H(y),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return ue(e,t,n,r)}function ot(e,t,n,r){if(r!=null){const o=m(r),s=e.Compare(t,x(o))|0;if(o instanceof D){const i=o;return s<0?Or(ot(e,t,n,U(i)),x(i),Z(i),H(i)):s===0?mt(t,n,U(i),H(i),$e(i)):Or(U(i),x(i),Z(i),ot(e,t,n,H(i)))}else return s<0?mt(t,n,void 0,r,2):s===0?Et(t,n):mt(t,n,r,void 0,2)}else return Et(t,n)}function ws(e,t,n){e:for(;;){const r=e,o=t,s=n;if(s!=null){const i=m(s),u=r.Compare(o,x(i))|0;if(u===0)return J(Z(i));if(i instanceof D){const c=i;e=r,t=o,n=u<0?U(c):H(c);continue e}else return}else return}}function fl(e,t,n){const r=ws(e,t,n);if(r==null)throw new Error;return m(r)}function hl(e,t,n){e:for(;;){const r=e,o=t,s=n;if(s!=null){const i=m(s),u=r.Compare(o,x(i))|0;if(i instanceof D){const c=i;if(u<0){e=r,t=o,n=U(c);continue e}else{if(u===0)return!0;e=r,t=o,n=H(c);continue e}}else return u===0}else return!1}}function ps(e,t){e:for(;;){const n=e,r=t;if(r!=null){const o=m(r);if(o instanceof D){const s=o;ps(n,U(s)),n(x(s),Z(s)),e=n,t=H(s);continue e}else n(x(o),Z(o))}break}}function dl(e,t){ps(e,t)}function qn(e,t){if(t!=null){const n=m(t);if(n instanceof D){const r=n,o=qn(e,U(r)),s=e(x(r),Z(r)),i=qn(e,H(r));return mt(x(r),s,o,i,$e(r))}else return Et(x(n),e(x(n),Z(n)))}else return void 0}function ml(e,t){return qn(e,t)}function gl(e,t,n){let r=n;dl((o,s)=>{re(t,r,[o,s]),r=r+1|0},e)}function wl(e,t){return gn((n,r)=>ot(e,r[0],r[1],n),void 0,t)}function pl(e,t,n){e:for(;;){const r=e,o=t,s=n;if(s["System.Collections.IEnumerator.MoveNext"]()){const i=s["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=ot(r,i[0],i[1],o),n=s;continue e}else return o}}function yl(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const o=E(r,t);n=ot(e,o[0],o[1],n)}return n}function Sl(e,t){if(le(t))return yl(e,t);if(t instanceof oe)return wl(e,t);{const n=R(t);try{return pl(e,void 0,n)}finally{A(n)}}}class Cl extends se{constructor(t,n){super(),this.stack=t,this.started=n}}function ys(e){e:for(;;){const t=e;if(P(t))return Ee();{const n=k(t),r=_(t);if(r!=null){const o=m(r);if(o instanceof D){const s=o;e=F([U(s),Et(x(s),Z(s)),H(s)],n);continue e}else return t}else{e=n;continue e}}}}function vr(e){return new Cl(ys(_t(e)),!1)}function _l(){throw new Error("enumeration not started")}function bl(){throw new Error("enumeration already finished")}function Rr(e){if(e.started){const t=e.stack;if(P(t))return bl();if(_(t)!=null){const n=m(_(t));if(n instanceof D)throw new Error("Please report error: Map iterator, unexpected stack for current");return[x(n),Z(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return _l()}function El(e){if(e.started){const t=e.stack;if(P(t))return!1;if(_(t)!=null){if(m(_(t))instanceof D)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=ys(k(t)),!P(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!P(e.stack)}function Fr(e){let t=vr(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return Rr(t)},"System.Collections.IEnumerator.get_Current"(){return Rr(t)},"System.Collections.IEnumerator.MoveNext"(){return El(t)},"System.Collections.IEnumerator.Reset"(){t=vr(e)},Dispose(){}}}class nn{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return kl(this)|0}Equals(t){const n=this;if(t instanceof nn){const r=t,o=R(n);try{const s=R(r);try{const i=()=>{const u=o["System.Collections.IEnumerator.MoveNext"]();if(u===s["System.Collections.IEnumerator.MoveNext"]())if(u){const c=o["System.Collections.Generic.IEnumerator`1.get_Current"](),l=s["System.Collections.Generic.IEnumerator`1.get_Current"]();return de(c[0],l[0])&&de(c[1],l[1])?i():!1}else return!0;else return!1};return i()}finally{A(s)}}finally{A(o)}}else return!1}toString(){return"map ["+fn("; ",N(n=>Li("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return Fr(this.tree)}[Symbol.iterator](){return Mt(R(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Fr(this.tree)}CompareTo(t){let n;const r=this;return(t instanceof nn?(n=t,$u((o,s)=>{const i=r.comparer.Compare(o[0],s[0])|0;return(i!==0?i:j(o[1],s[1]))|0},r,n)):1)|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return Dr(n,t[0])&&de(rn(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){gl(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return qt(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return qt(this)|0}get size(){return qt(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return N(n=>[n[0],n[1]],this)}get(t){return rn(this,t)}has(t){return Dr(this,t)}keys(){return N(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return N(n=>n[1],this)}forEach(t,n){const r=this;ur(o=>{t(o[1],o[0],r)},r)}}function Cn(e,t){return new nn(e,t)}function Ml(e){return Cn(e,void 0)}function Tl(e,t,n){return Cn(e.comparer,ot(e.comparer,t,n,e.tree))}function rn(e,t){return fl(e.comparer,t,e.tree)}function $l(e,t){return Cn(e.comparer,ml(t,e.tree))}function qt(e){return al(e.tree)|0}function Dr(e,t){return hl(e.comparer,t,e.tree)}function Il(e,t){return ws(e.comparer,t,e.tree)}function kl(e){const t=(o,s)=>(o<<1)+s+631|0;let n=0;const r=R(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const o=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,Ce(o[0]))|0,n=t(n,Ce(o[1]))|0}}finally{A(r)}return n|0}function Ss(e,t,n){return Tl(n,e,t)}function on(e,t){return Il(t,e)}function Cs(e,t){return $l(t,e)}function _n(e,t){return Cn(t,Sl(t,e))}function _s(e){return Ml(e)}function bn(e){e.save(),e.resetTransform(),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()}function bs(e){return e.save(),{Dispose(){e.restore()}}}let zn=0;function En(){window.cancelAnimationFrame(zn),zn=0}function Pl(e,t){En();const n=1e3/e;let r=0;const o=i=>(u=>{const c=u-r;c>=n?(s(i+1),r=u-c%n,t(i)):s(i)}),s=i=>{zn=window.requestAnimationFrame(o(i))};s(0)}const Vr=6,xr=be(G(()=>ge(e=>ge(t=>_e(cr(t,e-t)),Ln(0,1,Wi(e,Vr))),Ln(0,1,Vr*2)))),Gr=_n(Jo(G(()=>ge(e=>{const t=E(e,xr);return pn(_e([t,e]),G(()=>_e([cr(t.Right,t.Left),e])))},Ln(0,1,xr.length-1)))),{Compare:(e,t)=>j(e,t)|0});function Al(e){return`hsl(${360*rn(Gr,e)/qt(Gr)}, 100%, 80%)`}function Ol(e,t,n,r){e.beginPath(),e.arc(n,r,t,0,2*3.141592653589793),e.fillStyle="black",e.fill()}function Nr(e,t,n,r,o){const s=t/12,i=t/4,u=(f,d)=>{Ol(e,s,f,d)},c=()=>{u(n,r)},l=()=>{u(n-i,r-i),u(n+i,r+i)},a=()=>{l(),u(n-i,r+i),u(n+i,r-i)};switch(o){case 0:break;case 1:{c();break}case 2:{l();break}case 3:{c(),l();break}case 4:{a();break}case 5:{c(),a();break}case 6:{a(),u(n,r-i),u(n,r+i);break}default:throw new Error("Unexpected")}}const V=35,Zn=[2,"black"],Wn=[1,"gray"];function Es(e,t){e.beginPath(),e.roundRect(0,0,V*2,V,V/8),e.fillStyle=Al(t),e.fill(),e.lineWidth=Zn[0],e.strokeStyle=Zn[1],e.stroke(),e.beginPath(),e.moveTo(V,0),e.lineTo(V,V),e.lineWidth=Wn[0],e.strokeStyle=Wn[1],e.stroke();const n=V*1.5,r=V*.5;Nr(e,V,V*.5,r,t.Left),Nr(e,V,n,r,t.Right)}const Jn=3/4;function vl(e,t,n,r){const o=bs(e);try{e.translate(t,n),e.scale(Jn,Jn),Es(e,r)}finally{A(o)}}function Rl(e,t,n,r){const o=[n,r],s=o[1],i=o[0];let u;const c=s.Row-i.Row|0,l=s.Column-i.Column|0;let a;switch(c){case-1:{l===0?a=3:a=4;break}case 0:{switch(l){case-1:{a=2;break}case 1:{a=0;break}default:a=4}break}case 1:{l===0?a=1:a=4;break}default:a=4}switch(a){case 0:{u=[0,0,0];break}case 1:{u=[0,1,1];break}case 2:{u=[1,1,2];break}case 3:{u=[1,0,3];break}default:throw new Error("Unexpected")}const f=bs(e);try{e.translate((i.Column+u[1])*V,(i.Row+u[0])*V),e.rotate(u[2]*3.141592653589793/2),Es(e,t)}finally{A(f)}}function Mn(e,t,n){return de(on(t,e),on(n,e))}function Fl(e,t){return!Mn(e,t,new xe(t.Row,t.Column-1))}function Dl(e,t){return!Mn(e,t,new xe(t.Row,t.Column+1))}function Vl(e,t){return!Mn(e,t,new xe(t.Row-1,t.Column))}function xl(e,t){return!Mn(e,t,new xe(t.Row+1,t.Column))}function Gl(e){const t=e.Type;switch(t.tag){case 1:return"=";case 2:return"â ";case 3:return`<${t.fields[0]}`;case 4:return`>${t.fields[0]}`;case 5:return`${t.fields[0]}`;default:return""}}function Nl(e){let t;const n=e.Type;return t=n.tag===1?235:n.tag===2?220:n.tag===3?205:n.tag===4?190:n.tag===5?175:250,`rgb(${t}, ${t}, ${t})`}const he=V;function Bt(e,t,n,r,o,s,i,u){const c=(t.Column+r)*he,l=(t.Row+n)*he,a=(t.Column+s)*he,f=(t.Row+o)*he;e.beginPath(),e.moveTo(c,l),e.lineTo(a,f),e.lineWidth=i,e.strokeStyle=u,e.stroke()}function Bl(e,t){const n=Un(t.Cells,{Compare:(i,u)=>j(i,u)|0}),r=(n.Column+.5)*he,o=(n.Row+.5)*he,s=15;e.fillStyle="black",e.font=`${s}px sans-serif`,e.textAlign="center",e.textBaseline="middle",e.fillText(Gl(t),r,o)}const qe=Zn,Br=Wn;function Ul(e,t,n,r){e.fillStyle=n,e.fillRect(r.Column*he,r.Row*he,he,he),Fl(t,r)&&Bt(e,r,0,0,1,0,qe[0],qe[1]);const o=Dl(t,r)?qe:Br;Bt(e,r,0,1,1,1,o[0],o[1]),Vl(t,r)&&Bt(e,r,0,0,0,1,qe[0],qe[1]);const s=xl(t,r)?qe:Br;Bt(e,r,1,0,1,1,s[0],s[1])}function Hl(e,t,n){const r=n.Cells;for(let o=0;o<=r.length-1;o++){const s=E(o,r);Ul(e,t,Nl(n),s),Bl(e,n)}}function jl(e,t){const n=_n(Jo(G(()=>ge(o=>N(s=>[s,o],o.Cells),t.Regions))),{Compare:(o,s)=>j(o,s)|0}),r=t.Regions;for(let o=0;o<=r.length-1;o++)Hl(e,n,E(o,r))}function Ll(e,t,n){const r=be(vu(t,n.UnplacedDominoes));for(let o=0;o<=r.length-1;o++){const s=E(o,r);for(let i=0;i<=s.length-1;i++){const u=E(i,s);vl(e,(i+(t-s.length)/2)*V*2,o*V*1.2,u)}}}function ql(e,t,n){const r=o=>{bn(e);const s=R(E(o%n.length,n).Board.DominoPlaces);try{for(;s["System.Collections.IEnumerator.MoveNext"]();){const i=s["System.Collections.Generic.IEnumerator`1.get_Current"](),u=i[1];Rl(e,i[0],u[0],u[1])}}finally{A(s)}};t?Pl(10,r):r(0)}function zl(e){return new h(0,[e])}function Zl(e){return new h(1,[e])}class h extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function Ue(e,t){return t.tag===0?zl(e(t.fields[0])):Zl(t.fields[0])}class Wl{constructor(){}}function Jl(){return new Wl}function Xl(e,t,n){return t.then((r=>(n(),r)),(r=>{throw n(),r}))}function Oe(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(o){if(de(r,W()))return Promise.reject(o);try{return Promise.resolve(r(o))}catch(s){return Promise.reject(s)}}},catch:n=>{try{return t().catch(n)}catch(r){try{return Promise.resolve(n(r))}catch(o){return Promise.reject(o)}}}}}function We(e,t){return new Promise((n,r)=>{try{Promise.resolve(t).then(n,r)}catch(o){r(o)}})}function Ms(e,t,n){return Xl(e,n(t),()=>{A(t)})}const q=Jl();class Kl extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Accept","Accept-Charset","Accept-Encoding","Accept-Language","Accept-Datetime","Authorization","Cache-Control","Connection","Cookie","Content-Length","Content-MD5","Content-Type","Date","Expect","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Origin","Pragma","Proxy-Authorization","Range","Referer","SOAPAction","TE","User-Agent","Upgrade","Via","Warning","X-Requested-With","DNT","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Proto","Front-End-Https","X-Http-Method-Override","X-ATT-DeviceId","X-Wap-Profile","Proxy-Connection","X-UIDH","X-Csrf-Token","Custom"]}}class vn extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Method","Headers","Body","Mode","Credentials","Cache"]}}class Ut extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PreparingRequestFailed","DecodingFailed","FetchFailed","NetworkError"]}}function Yl(e,t){return fetch(e,rs(t,1))}function Ql(e,t){return e!=null?ne(new Kl(11,["application/json"]),t):t}function ec(e,t){return Ie(it(n=>zo(t,n),e),t)}function Rt(e){return e<0?Math.ceil(e):Math.floor(e)}function Ur(e=0,t=0,n=0,r=0,o=0){switch(arguments.length){case 1:return tc(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],o=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+o}function tc(e){return Number(BigInt(e)/10000n)}function nc(e){return Rt(e/864e5)}function rc(e){return Rt(e%864e5/36e5)}function oc(e){return Rt(e%36e5/6e4)}function sc(e){return Rt(e%6e4/1e3)}function ic(e){return Rt(e%1e3)}function uc(e,t="c",n){if(["c","g","G"].indexOf(t)===-1)throw new Error("Custom formats are not supported");const r=Math.abs(nc(e)),o=Math.abs(rc(e)),s=Math.abs(oc(e)),i=Math.abs(sc(e)),u=Math.abs(ic(e));return`${e<0?"-":""}${r===0&&(t==="c"||t==="g")?"":t==="c"?r+".":r+":"}${t==="g"?o:M(o,2)}:${M(s,2)}:${M(i,2)}${u===0&&(t==="c"||t==="g")?"":t==="g"?"."+M(u,3):"."+Qs(u,3,7)}`}function lc(e){const t=e.search("\\."),n=e.search("\\:");if(t===-1&&n===-1){const r=parseInt(e,0);if(isNaN(r))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return Ur(r,0,0,0,0)}if(n>0){const r=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(r!=null&&r[4]!=null&&r[5]!=null){let o=0,s=0,i=0;const u=r[1]!=null&&r[1]==="-"?-1:1,c=+r[4],l=+r[5];if(r[3]!=null&&(o=+r[3]),r[7]!=null&&(i=+r[7]),r[8]!=null)switch(r[8].length){case 1:s=+r[8]*100;break;case 2:s=+r[8]*10;break;case 3:s=+r[8];break;case 4:s=+r[8]/10;break;case 5:s=+r[8]/100;break;case 6:s=+r[8]/1e3;break;case 7:s=+r[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return u*Ur(o,c,l,i,s)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function cc(e,t){try{return t.contents=lc(e),!0}catch{return!1}}class C extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class Ts extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class ac{constructor(){this.cache=new Map([])}}function $s(){return new ac}function Is(e,t,n){let r,o=W();if(r=[os(e.cache,t,new B(()=>o,s=>{o=s})),o],r[0])return r[1];{const s=n();return Bu(e.cache,t,s),s}}const fc=$s(),hc=$s();function Hr(e){return e.slice(void 0,1).toLowerCase()+e.slice(1,e.length)}function ks(e,t){switch(e.tag){case 2:return Bi(Hr(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Hr(t)}}function dc(e){return e}const Ps=W();function Ht(e){return Array.from(e)}function mc(e){return Be(e,"O")}function gc(e){return uc(e)}function jr(e){return String(e)}function Lr(e){return String(e)}function qr(e){return String(e)}function zr(e){return String(e)}function wc(){return W()}function pc(e){return Be(e,"O")}function yc(e,t){return JSON.stringify(t,z(W()),J(e))}function Sc(e){return t=>Mi(it(e,t),()=>Ps)}function Zr(e,t,n,r){let o;const s=new B(W()),i=Ss(v(r),s,e);let u;if(Io(r)){const c=me(l=>{const a=ks(t,Qe(l)),f=ye(i,t,n,l[1]);return d=>(w=>{const g=_i(d,l);return(!n||n&&!kt(g))&&(w[a]=f(g)),w})},yt(r));u=(l=>Ot((a,f)=>f(l)(a),{},c))}else if($o(r))u=(c=>{const l=Ci(c,r),a=l[0],f=l[1],d=f.length|0;if(d===0)return Qe(a);{const w=d|0,g=ko(a),S=Ct(new Array(w+1),0,w+1,null);re(S,0,Qe(a));for(let p=1;p<=w;p++){const y=ye(i,t,n,E(p-1,g)[1]);re(S,p,y(E(p-1,f)))}return S}});else throw new Error((o=v(r),an(It("Cannot generate auto encoder for %s. Please pass an extra encoder."))(o)));return s.contents=u,u}function ye(e,t,n,r){const o=v(r),s=on(o,e);if(s==null)if(Co(r)){const i=ye(e,t,n,$t(r));return u=>Ht(N(i,u))}else if(Qn(r))switch(v(Eo(r))){case"System.SByte":return jr;case"System.Byte":return Lr;case"System.Int16":return qr;case"System.UInt16":return zr;case"System.Int32":return u=>u;case"System.UInt32":return u=>u;default:{const u=v(r);return No(It(`Cannot generate auto encoder for %s.
Thoth.Json.Net only support the folluwing enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra encoder.
                    `))(u)}}else if(_o(r))if(er(r)){const i=me(u=>ye(e,t,n,u),To(r));return u=>Ht(Au((c,l)=>E(c,i)(l),u))}else{const i=v(bo(r));if(i==="Microsoft.FSharp.Core.FSharpOption`1[System.Object]"){const u=new fo(()=>Sc(ye(e,t,n,E(0,ie(r)))));return c=>kt(c)?Ps:u.Value(c)}else if(i==="Microsoft.FSharp.Collections.FSharpList`1[System.Object]"||i==="Microsoft.FSharp.Collections.FSharpSet`1[System.Object]"){const u=ye(e,t,n,E(0,ie(r)));return c=>Ht(N(u,c))}else if(i==="Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]"){const u=E(0,ie(r)),c=ye(e,t,n,E(1,ie(r)));if(v(u)==="System.String"||v(u)==="System.Guid")return l=>Ot((a,f)=>{const d=f;return a[d[0]]=c(d[1]),a},{},l);{let l;return l=ye(e,t,n,u),f=>Ht(N(d=>{const w=d;return[l(w[0]),c(w[1])]},f))}}else return Zr(e,t,n,r)}else switch(o){case"System.Boolean":return i=>i;case"Microsoft.FSharp.Core.Unit":return wc;case"System.String":return i=>i;case"System.SByte":return jr;case"System.Byte":return Lr;case"System.Int16":return qr;case"System.UInt16":return zr;case"System.Int32":return i=>i;case"System.UInt32":return i=>i;case"System.Double":return i=>i;case"System.Single":return i=>i;case"System.DateTime":return pc;case"System.DateTimeOffset":return mc;case"System.TimeSpan":return gc;case"System.Guid":return dc;case"System.Object":return i=>i;default:return Zr(e,t,n,r)}else{const i=s;return u=>i.contents(u)}}function Cc(e){return e!=null?Cs((t,n)=>new B(n[0]),e.Coders):_s({Compare:(t,n)=>Fe(t,n)|0})}function _c(e,t,n,r){let o,s;const i=Ie(t,new Ts(0,[])),u=Ie(r,!0);return Is(fc,(o=(s=v(e),ce(i)+s),Ie(it(c=>c.Hash,n),"")+o),()=>ye(Cc(n),i,u,e))}const bc=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,Wr=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,Ec=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function Mc(e){function t(r){return r.replace(Wr,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(bc.test(n))return qi(n,"{","}","(",")");if(Wr.test(n))return t(n);if(Ec.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function Tc(e,t){try{return t.contents=Mc(e),!0}catch{return!1}}var Xn;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(Xn||(Xn={}));function $c(e,t){const[,n,r,o]=e;return{sign:n||"",prefix:r||"",digits:o,radix:t}}function Jr(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Ic(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function kc(e,t){if(t&Xn.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function Pc(e,t,n){const o=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(o!=null){const[,,s,i]=o;if(n=n||kc(s,t),!Ic(n).test(i))return $c(o,n)}return null}function Ac(e,t,n,r,o){const s=Pc(e,t,o);if(s!=null){let i=Number.parseInt(s.sign+s.digits,s.radix);if(!Number.isNaN(i)){const[u,c]=Jr(!0,r);!n&&s.radix!==10&&i>=u&&i<=c&&(i=i<<32-r>>32-r);const[l,a]=Jr(n,r);if(i>=l&&i<=a)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}function ut(e,t,n,r,o){try{return o.contents=Ac(e,t,n,r),!0}catch{return!1}}function As(e,t){Oc(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function Oc(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function vc(){return As(-621355968e5,0)}function Rc(e){const[t,n]=Do(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return As(t.getTime(),r)}function Fc(e,t){try{return t.contents=Rc(e),!0}catch{return!1}}function ft(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?`
`:" ")+(JSON.stringify(t,null,4)+"")}catch{return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?`
`:" ")}}function Dc(e,t){const n=t.tag===2?ft(t.fields[0],t.fields[1],!0):t.tag===1?ft(t.fields[0],t.fields[1],!1)+`
Reason: `+t.fields[2]:t.tag===3?ft(t.fields[0],t.fields[1],!0):t.tag===4?ft(t.fields[0],t.fields[1],!0)+("\nNode `"+t.fields[2]+"` is unkown."):t.tag===5?"Expecting "+t.fields[0]+`.
`+(JSON.stringify(t.fields[1],null,4)+""):t.tag===7?`The following errors were found:

`+fn(`

`,t.fields[0]):t.tag===6?"The following `failure` occurred with the decoder: "+t.fields[0]:ft(t.fields[0],t.fields[1],!1);return t.tag===7?n:"Error at: `"+e+"`\n"+n}function Os(e,t,n){const r=t(e,n);if(r.tag===1){const o=r.fields[0];return new h(1,[Dc(o[0],o[1])])}else return new h(0,[r.fields[0]])}function Vc(e,t){try{return Os("$",e,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new h(1,["Given an invalid JSON: "+n.message]);throw n}}function xc(e,t){return typeof t=="string"?new h(0,[t]):new h(1,[[e,new C(0,["a string",t])]])}function Gc(e,t){if(typeof t=="string"){let n,r="00000000-0000-0000-0000-000000000000";return n=[Tc(t,new B(()=>r,o=>{r=o})),r],n[0]?new h(0,[n[1]]):new h(1,[[e,new C(0,["a guid",t])]])}else return new h(1,[[e,new C(0,["a guid",t])]])}function Nc(e,t){return kt(t)?new h(0,[void 0]):new h(1,[[e,new C(0,["null",t])]])}const Xr=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?-128<=o&&o<=127?new h(0,[(o+128&255)-128]):new h(1,[[n,new C(1,["a sbyte",o,"Value was either too large or too small for a sbyte"])]]):new h(1,[[n,new C(1,["a sbyte",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[ut(r,511,!1,8,new B(()=>s|0,i=>{s=i|0})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["a sbyte",r])]])}else return new h(1,[[n,new C(0,["a sbyte",r])]])}),Kr=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?0<=o&&o<=255?new h(0,[o&255]):new h(1,[[n,new C(1,["a byte",o,"Value was either too large or too small for a byte"])]]):new h(1,[[n,new C(1,["a byte",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[ut(r,511,!0,8,new B(()=>s,i=>{s=i})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["a byte",r])]])}else return new h(1,[[n,new C(0,["a byte",r])]])}),Yr=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?-32768<=o&&o<=32767?new h(0,[(o+32768&65535)-32768]):new h(1,[[n,new C(1,["an int16",o,"Value was either too large or too small for an int16"])]]):new h(1,[[n,new C(1,["an int16",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[ut(r,511,!1,16,new B(()=>s|0,i=>{s=i|0})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["an int16",r])]])}else return new h(1,[[n,new C(0,["an int16",r])]])}),Qr=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?0<=o&&o<=65535?new h(0,[o&65535]):new h(1,[[n,new C(1,["an uint16",o,"Value was either too large or too small for an uint16"])]]):new h(1,[[n,new C(1,["an uint16",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[ut(r,511,!0,16,new B(()=>s,i=>{s=i})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["an uint16",r])]])}else return new h(1,[[n,new C(0,["an uint16",r])]])}),eo=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?-2147483648<=o&&o<=2147483647?new h(0,[~~o]):new h(1,[[n,new C(1,["an int",o,"Value was either too large or too small for an int"])]]):new h(1,[[n,new C(1,["an int",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[ut(r,511,!1,32,new B(()=>s|0,i=>{s=i|0})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["an int",r])]])}else return new h(1,[[n,new C(0,["an int",r])]])}),to=e=>(t=>{const n=e,r=t;if(typeof r=="number"){const o=r;return isFinite(o)&&Math.floor(o)===o?0<=o&&o<=4294967295?new h(0,[o>>>0]):new h(1,[[n,new C(1,["an uint32",o,"Value was either too large or too small for an uint32"])]]):new h(1,[[n,new C(1,["an uint32",o,"Value is not an integral value"])]])}else if(typeof r=="string"){let o,s=0;return o=[ut(r,511,!0,32,new B(()=>s,i=>{s=i})),s],o[0]?new h(0,[o[1]]):new h(1,[[n,new C(0,["an uint32",r])]])}else return new h(1,[[n,new C(0,["an uint32",r])]])});function Bc(e,t){return typeof t=="boolean"?new h(0,[t]):new h(1,[[e,new C(0,["a boolean",t])]])}function Uc(e,t){return typeof t=="number"?new h(0,[t]):new h(1,[[e,new C(0,["a float",t])]])}function Hc(e,t){return typeof t=="number"?new h(0,[t]):new h(1,[[e,new C(0,["a float32",t])]])}function jc(e,t){if(typeof t=="string"){let n,r=vi();return n=[Ri(t,new B(()=>r,o=>{r=o})),r],n[0]?new h(0,[xn(n[1])]):new h(1,[[e,new C(0,["a datetime",t])]])}else return new h(1,[[e,new C(0,["a datetime",t])]])}function Lc(e,t){if(typeof t=="string"){let n,r=vc();return n=[Fc(t,new B(()=>r,o=>{r=o})),r],n[0]?new h(0,[n[1]]):new h(1,[[e,new C(0,["a datetimeoffset",t])]])}else return new h(1,[[e,new C(0,["a datetime",t])]])}function qc(e,t){if(typeof t=="string"){let n,r=0;return n=[cc(t,new B(()=>r,o=>{r=o})),r],n[0]?new h(0,[n[1]]):new h(1,[[e,new C(0,["a timespan",t])]])}else return new h(1,[[e,new C(0,["a timespan",t])]])}function no(e,t,n,r){let o;const s=n+".["+Ye(e)+"]";if(Array.isArray(r)){const i=r;return e<i.length?t(s,E(e,i)):new h(1,[[s,new C(5,["a longer array. Need index `"+Ye(e)+"` but there are only `"+(o=i.length,Ye(o))+"` entries",r])]])}else return new h(1,[[s,new C(0,["an array",r])]])}function zc(e,t,n){return kt(n)?new h(0,[void 0]):Ue(J,e(t,n))}function ro(e,t,n){if(Array.isArray(n)){let r=-1;return Ue(qo,nr((o,s)=>{if(r=r+1|0,o.tag===0){const i=e(t+".["+Ye(r)+"]",s);return i.tag===0?new h(0,[ne(i.fields[0],o.fields[0])]):new h(1,[i.fields[0]])}else return o},new h(0,[Ee()]),n))}else return new h(1,[[t,new C(0,["a list",n])]])}function oo(e,t,n){if(Array.isArray(n)){let r=-1;const o=n;return nr((s,i)=>{if(r=r+1|0,s.tag===0){const u=s.fields[0],c=e(t+".["+Ye(r)+"]",i);return c.tag===0?(re(u,r,c.fields[0]),new h(0,[u])):new h(1,[c.fields[0]])}else return s},new h(0,[Ct(new Array(o.length),0,o.length,null)]),o)}else return new h(1,[[t,new C(0,["an array",n])]])}function Zc(e,t,n){return((o,s)=>{e:for(;;){const i=o,u=s;if(P(i))return new h(1,[[t,new C(7,[u])]]);{const c=Os(t,z(_(i)),n);if(c.tag===1){o=k(i),s=zo(u,_t(c.fields[0]));continue e}else return new h(0,[c.fields[0]])}}})(e,Ee())}function Wc(e,t,n){return new h(0,[e])}function so(e,t,n,r){const o=t(n,r);return o.tag===0?e(o.fields[0],n,r):new h(1,[o.fields[0]])}function Jc(e,t,n,r){const o=t(n,r);return o.tag===1?new h(1,[o.fields[0]]):new h(0,[e(o.fields[0])])}function Xc(e,t){let n;const r=e;return n=(o=>(s=>no(0,r,o,s))),o=>(s=>so(ci(i=>{let u;const c=t;return u=(l=>(a=>no(1,c,l,a))),l=>(a=>so((f,d,w)=>Wc([i,f]),z(u),l,a))}),z(n),o,s))}function Kc(e){return _n(e,{Compare:(t,n)=>j(t,n)|0})}function Yc(e){return vt(e,{Compare:(t,n)=>j(t,n)|0})}function Qc(e,t,n){return n!==null&&Object.getPrototypeOf(n||!1)===Object.prototype?lu((r,o)=>{const s=r[0];return o.tag===0?Ue(i=>ne(i,o.fields[0]),r[1](t+"."+s)(n[s])):o},e,new h(0,[Ee()])):new h(1,[[t,new C(0,["an object",n])]])}function ea(e,t,n,r){return r!==null&&Object.getPrototypeOf(r||!1)===Object.prototype?Ot((o,s)=>{if(o.tag===0){const i=e(n,s);if(i.tag===0){const u=t(n+"."+s,r[s]);return u.tag===0?new h(0,[ne([i.fields[0],u.fields[0]],o.fields[0])]):new h(1,[u.fields[0]])}else return new h(1,[i.fields[0]])}else return o},new h(0,[Ee()]),Object.keys(r)):new h(1,[[n,new C(0,["an object",r])]])}function vs(e,t,n,r){let o,s;return t.length!==r.length?new h(1,[[n,new C(6,[(o=t.length|0,s=r.length|0,an(It("Expected %i %s but got %i"))(o)(e)(s))])]]):au((i,u,c)=>c.tag===0?Ue(l=>ne(l,c.fields[0]),u(n)(i)):c,r,t,new h(0,[Ee()]))}function io(e,t,n,r,o,s){const i=ou(u=>Qe(u)===r,Mo(n));if(i!=null){const u=i;return s.length===0?new h(0,[gr(u,[])]):Ue(c=>gr(u,mn(c)),vs("union fields",me(c=>fe(e,t,!1,c[1]),ko(u)),o,s))}else return new h(1,[[o,new C(6,["Cannot find case "+r+" in "+v(n)])]])}function uo(e,t,n,r){let o;const s=new B(W()),i=Ss(v(r),s,e);let u;if(Io(r)){const c=me(l=>[ks(t,Qe(l)),fe(i,t,!1,l[1])],yt(r));u=(l=>(a=>Ue(f=>bi(r,mn(f)),Qc(c,l,a))))}else if($o(r))u=(c=>(l=>{if(typeof l=="string")return io(i,t,r,l,c,[]);if(Array.isArray(l)){const a=l;return io(i,t,r,E(0,a),c,a.slice(1,a.length))}else return new h(1,[[c,new C(0,["a string or array",l])]])}));else if(n)u=(c=>(l=>new h(1,[[c,new C(2,["an extra coder for "+v(r),l])]])));else throw new Error((o=v(r),an(It("Cannot generate auto decoder for %s. Please pass an extra decoder."))(o)));return s.contents=u,u}function fe(e,t,n,r){let o,s,i;const u=v(r),c=on(u,e);if(c==null)if(Co(r)){const l=fe(e,t,!1,$t(r));return a=>(f=>oo(z(l),a,f))}else if(Qn(r))switch(v(Eo(r))){case"System.SByte":return a=>(f=>{const d=r,w=a,g=f,S=Xr(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0]|0;return Le(p,He(d),{Equals:(y,O)=>y===O,GetHashCode:y=>te(y)|0})?new h(0,[je(d,p.toString())]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});case"System.Byte":return a=>(f=>{const d=r,w=a,g=f,S=Kr(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0];return Le(p,He(d),{Equals:(y,O)=>y===O,GetHashCode:y=>te(y)|0})?new h(0,[je(d,p.toString())]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});case"System.Int16":return a=>(f=>{const d=r,w=a,g=f,S=Yr(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0]|0;return Le(p,He(d),{Equals:(y,O)=>y===O,GetHashCode:y=>te(y)|0})?new h(0,[je(d,ei(p))]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});case"System.UInt16":return a=>(f=>{const d=r,w=a,g=f,S=Qr(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0];return Le(p,He(d),{Equals:(y,O)=>y===O,GetHashCode:y=>te(y)|0})?new h(0,[je(d,p.toString())]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});case"System.Int32":return a=>(f=>{const d=r,w=a,g=f,S=eo(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0]|0;return Le(p,He(d),{Equals:(y,O)=>y===O,GetHashCode:y=>te(y)|0})?new h(0,[je(d,Ye(p))]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});case"System.UInt32":return a=>(f=>{const d=r,w=a,g=f,S=to(w)(g);if(S.tag===1)return new h(1,[S.fields[0]]);{const p=S.fields[0];return Le(p,He(d),{Equals:(y,O)=>y===O,GetHashCode:y=>te(y)|0})?new h(0,[je(d,p.toString())]):new h(1,[[w,new C(1,[v(d),g,"Unkown value provided for the enum"])]])}});default:{const a=v(r),f=No(It(`Cannot generate auto decoder for %s.
Thoth.Json.Net only support the folluwing enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra decoder.
                    `))(a);return d=>f(d)}}else if(_o(r))if(er(r)){const l=me(a=>fe(e,t,!1,a),To(r));return a=>(f=>Array.isArray(f)?Ue(d=>Ei(mn(d)),vs("tuple elements",l,a,f)):new h(1,[[a,new C(0,["an array",f])]]))}else switch(v(bo(r))){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return o=fe(e,t,!0,E(0,ie(r))),a=>(f=>zc(z(o),a,f));case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return s=fe(e,t,!1,E(0,ie(r))),a=>(f=>ro(z(s),a,f));case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const a=fe(e,t,!1,E(0,ie(r))),f=fe(e,t,!1,E(1,ie(r)));let d;const w=wn([g=>(S=>ea(z(a),z(f),g,S)),(i=Xc(z(a),z(f)),g=>(S=>ro(z(i),g,S)))]);return d=(g=>(S=>Zc(w,g,S))),g=>(S=>Jc(Kc,z(d),g,S))}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const a=fe(e,t,!1,E(0,ie(r)));return f=>(d=>{const w=oo(z(a),f,d);return w.tag===0?new h(0,[Yc(w.fields[0])]):new h(1,[w.fields[0]])})}default:return uo(e,t,n,r)}else switch(u){case"System.Boolean":return l=>(a=>Bc(l,a));case"Microsoft.FSharp.Core.Unit":return l=>(a=>Nc(l,a));case"System.String":return l=>(a=>xc(l,a));case"System.SByte":return Xr;case"System.Byte":return Kr;case"System.Int16":return Yr;case"System.UInt16":return Qr;case"System.Int32":return eo;case"System.UInt32":return to;case"System.Double":return l=>(a=>Uc(l,a));case"System.Single":return l=>(a=>Hc(l,a));case"System.DateTime":return l=>(a=>jc(l,a));case"System.DateTimeOffset":return l=>(a=>Lc(l,a));case"System.TimeSpan":return l=>(a=>qc(l,a));case"System.Guid":return l=>(a=>Gc(l,a));case"System.Object":return l=>(a=>new h(0,[a]));default:return uo(e,t,n,r)}else{const l=c;return a=>(f=>l.contents(a)(f))}}function ta(e){return e!=null?Cs((t,n)=>new B(n[1]),e.Coders):_s({Compare:(t,n)=>Fe(t,n)|0})}function na(e,t,n){let r,o;const s=Ie(t,new Ts(0,[]));return Is(hc,(r=(o=v(e),ce(s)+o),Ie(it(i=>i.Hash,n),"")+r),()=>fe(ta(n),s,!1,e))}function Rs(e,t){return G(()=>{const n=new Uu([],t);return Qo(r=>Nu(r,n),e)})}function ra(e,t){return be(Rs(e,t))}class ze extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Any","Equal","Unequal","SumLess","SumGreater","SumExact"]}}class oa extends se{constructor(t,n){super(),this.Cells=t,this.Type=n}}class sa extends se{constructor(t,n,r){super(),this.Unsorted=t,this.Ascending=n,this.Descending=r}}function ia(e){const t=su(e,{Compare:(n,r)=>Fe(n,r)|0});return new sa(e,t,nu(t))}function Ft(e,t){return Yi(n=>n!==-1,me(n=>ds(e,n)|0,t.Cells,Int32Array))}function Fs(e,t){return Pu(ts(e,t))===e}function ua(e,t,n){const r=Ft(e,n);let o;if(r.length<2)o=!0;else{const s=E(0,r)|0;o=r.slice(1,r.length).every(i=>s===i)}if(o&&r.length>0){const s=E(0,r)|0;return Fs(n.Cells.length-r.length,lr(i=>s===i,t.Unsorted))}else return o}function la(e,t,n){const r=Ft(e,n),o=ra(r,{Equals:(s,i)=>s===i,GetHashCode:s=>te(s)|0});if(o.length===r.length){const s=vt(o,{Compare:(i,u)=>Fe(i,u)|0});return Fs(n.Cells.length-r.length,Rs(lr(i=>!Sn(s,i),t.Unsorted),{Equals:(i,u)=>i===u,GetHashCode:i=>te(i)|0}))}else return!1}function ca(e,t,n,r){const o=Ft(e,r),s=ve(o,{GetZero:()=>0,Add:(i,u)=>i+u|0})|0;if(s>n)return!1;{const i=r.Cells.length-o.length|0;return s+ve(t.Ascending.slice(0,i-1+1),{GetZero:()=>0,Add:(u,c)=>u+c|0})<n}}function aa(e,t,n,r){const o=Ft(e,r),s=ve(o,{GetZero:()=>0,Add:(u,c)=>u+c|0})|0,i=r.Cells.length-o.length|0;return s+ve(t.Descending.slice(0,i-1+1),{GetZero:()=>0,Add:(u,c)=>u+c|0})>n}function fa(e,t,n){const r=ns(t+1,n+1,!1);Yt(0,0,!0,r);const o=R(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const s=o["System.Collections.Generic.IEnumerator`1.get_Current"]()|0;for(let i=t;i>=s;i--)for(let u=n;u>=1;u--)Hn(i-s,u-1,r)&&Yt(i,u,!0,r)}}finally{A(o)}return Hn(t,n,r)}function ha(e,t,n,r){const o=Ft(e,r),s=ve(o,{GetZero:()=>0,Add:(i,u)=>i+u|0})|0;if(s>n)return!1;{const i=r.Cells.length-o.length|0;return i===0?s===n:s+ve(t.Ascending.slice(0,i-1+1),{GetZero:()=>0,Add:(u,c)=>u+c|0})<=n&&s+ve(t.Descending.slice(0,i-1+1),{GetZero:()=>0,Add:(u,c)=>u+c|0})>=n?fa(t.Unsorted,n-s,i):!1}}function da(e,t,n){const r=n.Type;switch(r.tag){case 1:return ua(e,t,n);case 2:return la(e,t,n);case 3:return ca(e,t,r.fields[0],n);case 4:return aa(e,t,r.fields[0],n);case 5:return ha(e,t,r.fields[0],n);default:return!0}}function ma(e){return[new xe(e.Row+1,e.Column),new xe(e.Row,e.Column+1)]}function ga(e){const t=(n,r)=>be(G(()=>{if(fr(n))return _e(r);{const o=es(n),s=tn(n,o);return ge(i=>Sn(s,i)?t(tn(s,i),el(r,[o,i])):Kt(),ma(o))}}));return t(e,nl({Compare:(n,r)=>un(n,r)|0}))}function wa(e,t,n){return e(n,t)}class Ds extends se{constructor(t,n,r){super(),this.UnplacedDominoes=t,this.Regions=n,this.Board=r}}function pa(e,t){const n=Ki(s=>s.Cells,t),r=Un(N(s=>s.Row|0,n),{Compare:(s,i)=>Fe(s,i)|0})|0,o=Un(N(s=>s.Column|0,n),{Compare:(s,i)=>Fe(s,i)|0})|0;return new Ds(vt(e,{Compare:(s,i)=>j(s,i)|0}),t,sl(r+1,o+1))}function ya(e){const t=ia(be(G(()=>ge(n=>pn(_e(n.Left),G(()=>_e(n.Right))),e.UnplacedDominoes))));return e.Regions.every(n=>da(e.Board,t,n))}function Sa(e,t){return il(e,t.Board)}function Ca(e){return ga(vt(lr(t=>wa(Sa,e,t),ge(t=>t.Cells,e.Regions)),{Compare:(t,n)=>j(t,n)|0}))}function _a(e,t,n,r){const o=[t,n],s=new Ds(tn(r.UnplacedDominoes,e),r.Regions,ul(e,o[0],o[1],r.Board));if(ya(s))return s}class ba extends se{constructor(t,n,r){super(),this.indices=t,this.type=n,this.target=r}}function Ea(){return Yn("Pips.DailyRegion",[],ba,()=>[["indices",Me(Me(dt))],["type",So],["target",yi(dt)]])}function Ma(e){let t,n,r;return new oa(me(o=>Du(E(0,o),E(1,o)),e.indices),(t=e.type,n=e.target,r=[t,n],t==="empty"?n==null?new ze(0,[]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():t==="equals"?n==null?new ze(1,[]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():t==="greater"?n!=null?new ze(4,[n]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():t==="less"?n!=null?new ze(3,[n]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():t==="sum"?n!=null?new ze(5,[n]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():t==="unequal"?n==null?new ze(2,[]):(()=>{throw new Error(`Unexpected region type: ${r}`)})():(()=>{throw new Error(`Unexpected region type: ${r}`)})()))}class Ta extends se{constructor(t,n,r,o,s){super(),this.id=t|0,this.constructors=n,this.dominoes=r,this.regions=o,this.solution=s}}function Rn(){return Yn("Pips.DailyPuzzle",[],Ta,()=>[["id",dt],["constructors",So],["dominoes",Me(Me(dt))],["regions",Me(Ea())],["solution",Me(Me(Me(dt)))]])}function $a(e){if(!kt(e.dominoes))return pa(me(t=>cr(E(0,t),E(1,t)),e.dominoes),me(Ma,e.regions))}class Ia extends se{constructor(t,n,r){super(),this.easy=t,this.medium=n,this.hard=r}}function ka(){return Yn("Pips.Daily",[],Ia,()=>[["easy",Rn()],["medium",Rn()],["hard",Rn()]])}function Pa(e){return _n(Yo(t=>it(n=>[t[0],n],$a(t[1])),[["easy",e.easy],["medium",e.medium],["hard",e.hard]]),{Compare:(t,n)=>Fe(t,n)|0})}class Aa extends we{constructor(t,n){super(),this.tag=0,this.fields=[t,n]}cases(){return["Node"]}}function Oa(e){const t=n=>{if(n.length===0)return new Array(0);{const r=es(E(0,n)),o=ru(i=>Sn(i,r),n),s=be(G(()=>ge(i=>{const u=tn(i,r);return fr(u)?Kt():_e(u)},o[0])));return be(G(()=>pn(_e(new Aa(r,t(s))),G(()=>t(o[1])))))}};return t(e)}const va=e=>Oa(Ca(e));function Ra(e){const t=r=>(o=>G(()=>fr(o.UnplacedDominoes)?_e(o):ge(s=>{const i=s.fields[0],u=s.fields[1];return ge(c=>pn(n(u)(c)(i)(o),G(()=>Fu(c)?Kt():n(u)(c)(Vu(i[0],i[1]))(o))),o.UnplacedDominoes)},r))),n=r=>(o=>(s=>(i=>{const u=_a(o,s[0],s[1],i);if(u==null)return Kt();{const c=u;return t(r)(c)}})));return t(va(e))(e)}function Fa(e){switch(e.tag){case 1:return e.fields[0];case 2:return e.fields[0].statusText;case 3:return e.fields[0].message;default:return e.fields[0].message}}function Ae(e){return document.getElementById(e)}function lo(){return window.performance.now()}function Vs(){return document.body.style.cursor="wait",{Dispose(){document.body.style.cursor="default"}}}const Da="https://pips-dsa2dqawe8hrahf7.eastus-01.azurewebsites.net/api/daily",hr=Ae("puzzle-canvas"),Ge=Ae("puzzle-date"),Va=Ae("previous-date-button"),xa=Ae("next-date-button"),xs=Ae("difficulty-select"),tt=Ae("solve-button"),Ne=Ae("pause-button"),Gs=Ae("timer-span"),Re=hr.getContext("2d"),Ns=10;function Bs(e,t){const n=ol(t.Board)*V,r=(hr.width-n)/2;e.translate(r,Ns)}const Us=4;function Ga(e,t){const n=(Us-(1-Jn))*(2*V),r=(hr.width-n)/2,o=(rl(t.Board)+1)*V+Ns;e.translate(r,o)}function Hs(e,t){e.resetTransform(),Bs(e,t),jl(e,t),e.resetTransform(),Ga(e,t),Ll(e,Us,t)}function js(e,t,n,r){e.resetTransform(),Bs(e,t),ql(e,n,r)}let ht=ln(!0),gt=ln(void 0),wt=ln(void 0),pt=ln(!1);const Ls="Show solution",Na="Show puzzle",qs="â¸ï¸",Ba="â¶ï¸";function co(e){We(q,Oe(q,()=>Ms(q,Vs(),t=>{let n,r,o,s;En(),bn(Re),ht(!0),wt(void 0),pt(!1),tt.textContent=Ls,tt.disabled=!0,Ne.textContent=qs,Ne.disabled=!0,Gs.textContent="";const i=Be(cn(Ge.value),"yyyy-MM-dd");return(n=Ho(Da,"?date=",...i),r=void 0,o=void 0,s=void 0,(()=>{let u;try{const c=ec(void 0,(u=wn([new vn(0,["GET"]),new vn(1,[rs(Ql(r,Ee()),0)])]),Ie(it(a=>ne(new vn(2,[yc(0,_c(yo,Vt(o),Vt(s))(a))]),u),r),u)));return We(q,Oe(q,()=>Yl(n,c).then(a=>{let f,d;return f=a,d=Ie(void 0,na(ka(),Vt(o),Vt(s))),We(q,Oe(q,()=>(f.ok?We(q,Oe(q,()=>f.text().then(w=>{let g;return Promise.resolve((g=Vc(z(d),w),g.tag===1?new h(1,[new Ut(1,[g.fields[0]])]):new h(0,[g.fields[0]])))}))):Promise.resolve(new h(1,[new Ut(2,[f])]))).then(w=>Promise.resolve(w))))}))).then(void 0,(a=>new h(1,[new Ut(3,[a])])))}catch(c){return We(q,Oe(q,()=>Promise.resolve(new h(1,[new Ut(0,[c])]))))}})()).then(u=>{if(u.tag===1)return window.alert(J(Fa(u.fields[0]))),Promise.resolve();{const c=rn(Pa(u.fields[0]),xs.value);return Hs(Re,c),gt(c),tt.disabled=!1,Promise.resolve()}})})))}const Ua=cn(Ge.min);function zs(){let e;e=new Event("change"),Ge.dispatchEvent(e)}function Zs(e){const t=xi(cn(Ge.value),e);Gi(t,Ua)>=0&&(Ge.value=Be(t,"yyyy-MM-dd"),zs())}function Ha(e){Zs(-1)}function ja(e){Zs(1)}function La(e){We(q,Oe(q,()=>{let t,n,r;return En(),bn(Re),(t=ht(),n=gt(),r=wt(),t&&n!=null&&r==null?Ms(q,Vs(),o=>{const s=lo(),i=be(ts(1e3,Ra(m(gt())))),u=lo()-s,c=i.length>=1e3?"+":"",l=i.length===1?"":"s";return Gs.textContent=an(Hi("Found %P()%P() solution%P() in %0.1f%P() ms",[i.length,c,l,u])),wt(i),Promise.resolve()}):Promise.resolve()).then(()=>Oe(q,()=>{ht(!ht());const o=ht(),s=gt(),i=wt();let u,c,l,a;switch(o?s!=null?(u=0,c=s):u=2:s!=null&&i!=null?(u=1,l=s,a=i):u=2,u){case 0:return Hs(Re,c),tt.textContent=Ls,Ne.disabled=!0,Promise.resolve();case 1:return js(Re,l,!pt()&&a.length>1,a),tt.textContent=Na,a.length>1&&(Ne.disabled=!1),Promise.resolve();default:return Promise.resolve()}}))}))}function qa(e){const t=pt(),n=gt(),r=wt();let o,s,i;switch(t?n!=null&&r!=null?(o=1,s=n,i=r):o=2:o=0,o){case 0:{En(),Ne.textContent=Ba;break}case 1:{bn(Re),js(Re,s,!0,i),Ne.textContent=qs;break}}pt(!pt())}(function(){Va.onclick=(t=>{Ha()}),xa.onclick=(t=>{ja()}),Ge.onchange=(t=>{co()}),xs.onchange=(t=>{co()}),tt.onclick=(t=>{La()}),Ne.onclick=(t=>{qa()});const e=Fi();Ge.value=Be(e,"yyyy-MM-dd"),zs()})();
